{"version":3,"file":"snackbar.esm.js","sources":["../src/SnackbarContext.ts","../src/utils/index.ts","../src/transitions/Transition/Transition.tsx","../src/transitions/useForkRef.ts","../src/transitions/getTransitionProps.ts","../src/transitions/utils.ts","../src/transitions/createTransition.ts","../src/transitions/Slide/Slide.tsx","../src/utils/defaultIconVariants.tsx","../src/SnackbarProvider/merger.ts","../src/utils/styles.ts","../src/transitions/Collapse/Collapse.tsx","../src/SnackbarItem/utils.ts","../src/utils/createChainedFunction.ts","../src/utils/useEventCallback.ts","../src/SnackbarItem/Snackbar.tsx","../src/SnackbarContent/SnackbarContent.tsx","../src/ui/MaterialDesignContent/MaterialDesignContent.tsx","../src/SnackbarItem/SnackbarItem.tsx","../src/SnackbarContainer/SnackbarContainer.tsx","../src/utils/warning.ts","../src/SnackbarProvider/SnackbarProvider.tsx","../src/useSnackbar.ts"],"sourcesContent":["import React from 'react';\nimport { ProviderContext } from './types';\n\nconst noOp = () => {\n  return '';\n};\n\nexport default React.createContext<ProviderContext>({\n  enqueueSnackbar: noOp,\n  closeSnackbar: noOp\n});\n","import { InternalSnack } from '../types';\n\nexport const breakpoints = {\n  downXs: '@media (max-width:599.95px)',\n  upSm: '@media (min-width:600px)'\n};\n\nconst capitalise = (text: string): string => text.charAt(0).toUpperCase() + text.slice(1);\n\nexport const originKeyExtractor = (anchor: InternalSnack['anchorOrigin']): string =>\n  `${capitalise(anchor.vertical)}${capitalise(anchor.horizontal)}`;\n\nexport const isDefined = (value: string | null | undefined | number): boolean => !!value || value === 0;\n","/**\n * BSD 3-Clause License\n *\n * Copyright (c) 2018, React Community\n * Forked from React (https://github.com/facebook/react) Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * * Redistributions of source code must retain the above copyright notice, this\n * list of conditions and the following disclaimer.\n *\n * * Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * * Neither the name of the copyright holder nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport React from 'react';\nimport { TransitionComponentProps, TransitionStatus } from '../../types';\n\nconst UNMOUNTED = 'unmounted';\nconst EXITED = 'exited';\nconst ENTERING = 'entering';\nconst ENTERED = 'entered';\nconst EXITING = 'exiting';\n\ninterface State {\n  status: TransitionStatus;\n}\n\ninterface NextCallback {\n  cancel?: () => void;\n\n  (): void;\n}\n\nclass Transition extends React.Component<TransitionComponentProps, State> {\n  appearStatus: TransitionStatus | null;\n\n  nextCallback: NextCallback | null;\n\n  constructor(props: TransitionComponentProps) {\n    super(props);\n\n    const { appear } = props;\n\n    let initialStatus: TransitionStatus;\n\n    this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else if (props.unmountOnExit || props.mountOnEnter) {\n      initialStatus = UNMOUNTED;\n    } else {\n      initialStatus = EXITED;\n    }\n\n    this.state = { status: initialStatus };\n\n    this.nextCallback = null;\n  }\n\n  get node() {\n    const node = this.props.nodeRef?.current;\n    if (!node) {\n      throw new Error('snackbar - Custom snackbar is not refForwarding');\n    }\n    return node;\n  }\n\n  static getDerivedStateFromProps({ in: nextIn }: TransitionComponentProps, prevState: State) {\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return { status: EXITED };\n    }\n    return null;\n  }\n\n  componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  }\n\n  componentDidUpdate(prevProps: TransitionComponentProps) {\n    let nextStatus: TransitionStatus | null = null;\n    if (prevProps !== this.props) {\n      const { status } = this.state;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else if (status === ENTERING || status === ENTERED) {\n        nextStatus = EXITING;\n      }\n    }\n    this.updateStatus(false, nextStatus);\n  }\n\n  componentWillUnmount() {\n    this.cancelNextCallback();\n  }\n\n  getTimeouts(): { exit: number; enter: number } {\n    const { timeout } = this.props;\n    let enter = timeout;\n    let exit = timeout;\n\n    if (timeout != null && typeof timeout !== 'number' && typeof timeout !== 'string') {\n      exit = timeout.exit;\n      enter = timeout.enter;\n    }\n    return {\n      exit: exit as number,\n      enter: enter as number\n    };\n  }\n\n  updateStatus(mounting = false, nextStatus: TransitionStatus | null) {\n    if (nextStatus !== null) {\n      this.cancelNextCallback();\n\n      if (nextStatus === ENTERING) {\n        this.performEnter(mounting);\n      } else {\n        this.performExit();\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({ status: UNMOUNTED });\n    }\n  }\n\n  performEnter(mounting: boolean) {\n    const { enter } = this.props;\n    const isAppearing = mounting;\n\n    const timeouts = this.getTimeouts();\n\n    if (!mounting && !enter) {\n      this.safeSetState({ status: ENTERED }, () => {\n        if (this.props.onEntered) {\n          this.props.onEntered(this.node, isAppearing);\n        }\n      });\n      return;\n    }\n\n    if (this.props.onEnter) {\n      this.props.onEnter(this.node, isAppearing);\n    }\n\n    this.safeSetState({ status: ENTERING }, () => {\n      if (this.props.onEntering) {\n        this.props.onEntering(this.node, isAppearing);\n      }\n\n      this.onTransitionEnd(timeouts.enter, () => {\n        this.safeSetState({ status: ENTERED }, () => {\n          if (this.props.onEntered) {\n            this.props.onEntered(this.node, isAppearing);\n          }\n        });\n      });\n    });\n  }\n\n  performExit() {\n    const { exit } = this.props;\n    const timeouts = this.getTimeouts();\n\n    // no exit animation skip right to EXITED\n    if (!exit) {\n      this.safeSetState({ status: EXITED }, () => {\n        if (this.props.onExited) {\n          this.props.onExited(this.node);\n        }\n      });\n      return;\n    }\n\n    if (this.props.onExit) {\n      this.props.onExit(this.node);\n    }\n\n    this.safeSetState({ status: EXITING }, () => {\n      if (this.props.onExiting) {\n        this.props.onExiting(this.node);\n      }\n\n      this.onTransitionEnd(timeouts.exit, () => {\n        this.safeSetState({ status: EXITED }, () => {\n          if (this.props.onExited) {\n            this.props.onExited(this.node);\n          }\n        });\n      });\n    });\n  }\n\n  cancelNextCallback() {\n    if (this.nextCallback !== null && this.nextCallback.cancel) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  }\n\n  safeSetState(nextState: State, callback: () => void) {\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  }\n\n  setNextCallback(callback: () => void) {\n    let active = true;\n\n    this.nextCallback = () => {\n      if (active) {\n        active = false;\n        this.nextCallback = null;\n\n        callback();\n      }\n    };\n\n    (this.nextCallback as NextCallback).cancel = () => {\n      active = false;\n    };\n\n    return this.nextCallback;\n  }\n\n  onTransitionEnd(timeout: number, handler: () => void) {\n    this.setNextCallback(handler);\n    const doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n    if (!this.node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback as NextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      this.props.addEndListener(this.node, this.nextCallback as NextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback as NextCallback, timeout);\n    }\n  }\n\n  render() {\n    const { status } = this.state;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    const {\n      children,\n      // filter props for `Transition`\n      in: _in,\n      mountOnEnter: _mountOnEnter,\n      unmountOnExit: _unmountOnExit,\n      appear: _appear,\n      enter: _enter,\n      exit: _exit,\n      timeout: _timeout,\n      addEndListener: _addEndListener,\n      onEnter: _onEnter,\n      onEntering: _onEntering,\n      onEntered: _onEntered,\n      onExit: _onExit,\n      onExiting: _onExiting,\n      onExited: _onExited,\n      nodeRef: _nodeRef,\n      ...childProps\n    } = this.props;\n\n    return children(status, childProps);\n  }\n}\n\nfunction noop() {\n  //\n}\n\n(Transition as any).defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\n\nexport default Transition;\n","/**\n * Credit to MUI team @ https://mui.com\n */\nimport * as React from 'react';\n\n/**\n * passes {value} to {ref}\n *\n * Useful if you want to expose the ref of an inner component to the public API\n * while still using it inside the component.\n * @param ref A ref callback or ref object. If anything falsy, this is a no-op.\n */\nfunction setRef<T>(ref: React.MutableRefObject<T | null> | ((instance: T | null) => void) | null | undefined, value: T | null): void {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}\n\nexport default function useForkRef<Instance>(\n  refA: React.Ref<Instance> | null | undefined,\n  refB: React.Ref<Instance> | null | undefined\n): React.Ref<Instance> | null {\n  /**\n   * This will create a new function if the ref props change and are defined.\n   * This means react will call the old forkRef with `null` and the new forkRef\n   * with the ref. Cleanup naturally emerges from this behavior.\n   */\n  return React.useMemo(() => {\n    if (refA == null && refB == null) {\n      return null;\n    }\n    return (refValue) => {\n      setRef(refA, refValue);\n      setRef(refB, refValue);\n    };\n  }, [refA, refB]);\n}\n","import { TransitionDuration } from '../types';\n\ninterface ComponentProps {\n  style?: React.CSSProperties | undefined;\n  /**\n   * number: 400\n   * TransitionDuration: { enter: 200, exit: 400 }\n   */\n  timeout: number | TransitionDuration;\n  mode: 'enter' | 'exit';\n}\n\ninterface TransitionPropsReturnType {\n  duration: number;\n  easing: string | undefined;\n  delay: string | undefined;\n}\n\nexport default function getTransitionProps(props: ComponentProps): TransitionPropsReturnType {\n  const { timeout, style = {}, mode } = props;\n  return {\n    duration: typeof timeout === 'object' ? timeout[mode] || 0 : timeout,\n    easing: style.transitionTimingFunction,\n    delay: style.transitionDelay\n  };\n}\n","/**\n * Credit to MUI team @ https://mui.com\n */\nexport const defaultEasing = {\n  // This is the most common easing curve.\n  easeInOut: 'cubic-bezier(0.4, 0, 0.2, 1)',\n  // Objects enter the screen at full velocity from off-screen and\n  // slowly decelerate to a resting point.\n  easeOut: 'cubic-bezier(0.0, 0, 0.2, 1)',\n  // Objects leave the screen at full velocity. They do not decelerate when off-screen.\n  easeIn: 'cubic-bezier(0.4, 0, 1, 1)',\n  // The sharp curve is used by objects that may return to the screen at any time.\n  sharp: 'cubic-bezier(0.4, 0, 0.6, 1)'\n};\n\n/**\n * CSS hack to force a repaint\n */\nexport const reflow = (node: Element): void => {\n  // We have to do something with node.scrollTop.\n  // Otherwise it's removed from the compiled code by optimisers\n  // eslint-disable-next-line no-self-assign\n  node.scrollTop = node.scrollTop;\n};\n","import { defaultEasing } from './utils';\n\ninterface CreateTransitionOptions {\n  duration: string | number;\n  easing?: string;\n  delay?: string | number;\n}\n\nconst formatMs = (milliseconds: number) => `${Math.round(milliseconds)}ms`;\n\nexport default function createTransition(props: string | string[] = ['all'], options?: CreateTransitionOptions): string {\n  const { duration = 300, easing = defaultEasing.easeInOut, delay = 0 } = options || {};\n\n  const properties = Array.isArray(props) ? props : [props];\n\n  return properties\n    .map((animatedProp) => {\n      const formattedDuration = typeof duration === 'string' ? duration : formatMs(duration);\n      const formattedDelay = typeof delay === 'string' ? delay : formatMs(delay);\n      return `${animatedProp} ${formattedDuration} ${easing} ${formattedDelay}`;\n    })\n    .join(',');\n}\n","/**\n * Credit to MUI team @ https://mui.com\n */\nimport * as React from 'react';\nimport TransitionComponent from '../Transition';\nimport useForkRef from '../useForkRef';\nimport getTransitionProps from '../getTransitionProps';\nimport createTransition from '../createTransition';\nimport { defaultEasing, reflow } from '../utils';\nimport { SlideTransitionDirection, TransitionProps } from '../../types';\n\nfunction ownerDocument(node: Node | null | undefined): Document {\n  return (node && node.ownerDocument) || document;\n}\n\nfunction ownerWindow(node: Node | null): Window {\n  const doc = ownerDocument(node);\n  return doc.defaultView || window;\n}\n\n/**\n * Corresponds to 10 frames at 60 Hz.\n * A few bytes payload overhead when lodash/debounce is ~3 kB and debounce ~300 B.\n */\nfunction debounce(func: () => void, wait = 166) {\n  let timeout: ReturnType<typeof setTimeout>;\n  function debounced(...args: any[]) {\n    const later = () => {\n      // @ts-ignore\n      func.apply(this, args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  }\n\n  debounced.clear = () => {\n    clearTimeout(timeout);\n  };\n\n  return debounced;\n}\n\n/**\n * Translate the node so it can't be seen on the screen.\n * Later, we're going to translate the node back to its original location with `none`.\n */\nfunction getTranslateValue(direction: SlideTransitionDirection, node: HTMLElement & { fakeTransform?: string }): string {\n  const rect = node.getBoundingClientRect();\n  const containerWindow = ownerWindow(node);\n  let transform;\n\n  if (node.fakeTransform) {\n    transform = node.fakeTransform;\n  } else {\n    const computedStyle = containerWindow.getComputedStyle(node);\n    transform = computedStyle.getPropertyValue('-webkit-transform') || computedStyle.getPropertyValue('transform');\n  }\n\n  let offsetX = 0;\n  let offsetY = 0;\n\n  if (transform && transform !== 'none' && typeof transform === 'string') {\n    const transformValues = transform.split('(')[1].split(')')[0].split(',');\n    offsetX = parseInt(transformValues[4], 10);\n    offsetY = parseInt(transformValues[5], 10);\n  }\n\n  switch (direction) {\n    case 'left':\n      return `translateX(${containerWindow.innerWidth + offsetX - rect.left}px)`;\n    case 'right':\n      return `translateX(-${rect.left + rect.width - offsetX}px)`;\n    case 'up':\n      return `translateY(${containerWindow.innerHeight + offsetY - rect.top}px)`;\n    default:\n      // down\n      return `translateY(-${rect.top + rect.height - offsetY}px)`;\n  }\n}\n\nfunction setTranslateValue(direction: SlideTransitionDirection, node: HTMLElement | null): void {\n  if (!node) return;\n  const transform = getTranslateValue(direction, node);\n  if (transform) {\n    node.style.webkitTransform = transform;\n    node.style.transform = transform;\n  }\n}\n\nconst Slide = React.forwardRef<unknown, TransitionProps>((props, ref) => {\n  const { children, direction = 'down', in: inProp, style, timeout = 0, onEnter, onEntered, onExit, onExited, ...other } = props;\n\n  const nodeRef = React.useRef(null);\n  const handleRefIntermediary = useForkRef((children as any).ref, nodeRef);\n  const handleRef = useForkRef(handleRefIntermediary, ref);\n\n  const handleEnter: TransitionProps['onEnter'] = (node, isAppearing) => {\n    setTranslateValue(direction, node);\n    reflow(node);\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  };\n\n  const handleEntering = (node: HTMLElement) => {\n    const easing = style?.transitionTimingFunction || defaultEasing.easeOut;\n    const transitionProps = getTransitionProps({\n      timeout,\n      mode: 'enter',\n      style: { ...style, transitionTimingFunction: easing }\n    });\n\n    node.style.webkitTransition = createTransition('-webkit-transform', transitionProps);\n    node.style.transition = createTransition('transform', transitionProps);\n\n    node.style.webkitTransform = 'none';\n    node.style.transform = 'none';\n  };\n\n  const handleExit: TransitionProps['onExit'] = (node) => {\n    const easing = style?.transitionTimingFunction || defaultEasing.sharp;\n    const transitionProps = getTransitionProps({\n      timeout,\n      mode: 'exit',\n      style: { ...style, transitionTimingFunction: easing }\n    });\n\n    node.style.webkitTransition = createTransition('-webkit-transform', transitionProps);\n    node.style.transition = createTransition('transform', transitionProps);\n\n    setTranslateValue(direction, node);\n\n    if (onExit) {\n      onExit(node);\n    }\n  };\n\n  const handleExited: TransitionProps['onExited'] = (node) => {\n    // No need for transitions when the component is hidden\n    node.style.webkitTransition = '';\n    node.style.transition = '';\n\n    if (onExited) {\n      onExited(node);\n    }\n  };\n\n  const updatePosition = React.useCallback(() => {\n    if (nodeRef.current) {\n      setTranslateValue(direction, nodeRef.current);\n    }\n  }, [direction]);\n\n  React.useEffect(() => {\n    // Skip configuration where the position is screen size invariant.\n    if (inProp || direction === 'down' || direction === 'right') {\n      return undefined;\n    }\n\n    const handleResize = debounce(() => {\n      if (nodeRef.current) {\n        setTranslateValue(direction, nodeRef.current);\n      }\n    });\n\n    const containerWindow = ownerWindow(nodeRef.current);\n    containerWindow.addEventListener('resize', handleResize);\n    return () => {\n      handleResize.clear();\n      containerWindow.removeEventListener('resize', handleResize);\n    };\n  }, [direction, inProp]);\n\n  React.useEffect(() => {\n    if (!inProp) {\n      // We need to update the position of the drawer when the direction change and\n      // when it's hidden.\n      updatePosition();\n    }\n  }, [inProp, updatePosition]);\n\n  return (\n    <TransitionComponent\n      appear\n      nodeRef={nodeRef}\n      onEnter={handleEnter}\n      onEntered={onEntered}\n      onEntering={handleEntering}\n      onExit={handleExit}\n      onExited={handleExited}\n      in={inProp}\n      timeout={timeout}\n      {...other}\n    >\n      {(state, childProps) =>\n        React.cloneElement(children as any, {\n          ref: handleRef,\n          style: {\n            visibility: state === 'exited' && !inProp ? 'hidden' : undefined,\n            ...style,\n            ...(children as any).props.style\n          },\n          ...childProps\n        })\n      }\n    </TransitionComponent>\n  );\n});\n\nSlide.displayName = 'Slide';\n\nexport default Slide;\n","import React from 'react';\n\nconst SvgIcon = (props: { children: JSX.Element }) => (\n  <svg\n    viewBox=\"0 0 24 24\"\n    focusable=\"false\"\n    style={{\n      fontSize: 20,\n      marginInlineEnd: 8,\n      userSelect: 'none',\n      width: '1em',\n      height: '1em',\n      display: 'inline-block',\n      fill: 'currentColor',\n      flexShrink: 0\n    }}\n    {...props}\n  />\n);\n\nconst CheckIcon: React.FC = () => (\n  <SvgIcon>\n    <path\n      d=\"M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41\n        10.59L10 14.17L17.59 6.58L19 8L10 17Z\"\n    />\n  </SvgIcon>\n);\n\nconst WarningIcon: React.FC = () => (\n  <SvgIcon>\n    <path d=\"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z\" />\n  </SvgIcon>\n);\n\nconst ErrorIcon: React.FC = () => (\n  <SvgIcon>\n    <path\n      d=\"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,\n        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,\n        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z\"\n    />\n  </SvgIcon>\n);\n\nconst InfoIcon: React.FC = () => (\n  <SvgIcon>\n    <path\n      d=\"M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,\n        0 22,12A10,10 0 0,0 12,2Z\"\n    />\n  </SvgIcon>\n);\n\nconst defaultIconVariants: Record<string, React.ReactNode> = {\n  default: undefined,\n  success: <CheckIcon />,\n  warning: <WarningIcon />,\n  error: <ErrorIcon />,\n  info: <InfoIcon />\n};\n\nexport default defaultIconVariants;\n","import Slide from '../transitions/Slide';\nimport defaultIconVariants from '../utils/defaultIconVariants';\nimport { InternalSnack } from '../types';\n\nexport const defaults = {\n  maxSnack: 3,\n  persist: false,\n  hideIconVariant: false,\n  disableWindowBlurListener: false,\n  variant: 'default',\n  autoHideDuration: 5000,\n  iconVariant: defaultIconVariants,\n  anchorOrigin: { vertical: 'bottom', horizontal: 'left' },\n  TransitionComponent: Slide,\n  transitionDuration: {\n    enter: 225,\n    exit: 195\n  }\n};\n\n/**\n * Derives the right autoHideDuration taking into account the following\n * prority order: 1: Options, 2: Props, 3: default fallback\n */\nconst getAutoHideDuration = (optionsDuration: any, propsDuration: any) => {\n  const isNumberOrNull = (numberish: number | null) => typeof numberish === 'number' || numberish === null;\n\n  if (isNumberOrNull(optionsDuration)) return optionsDuration;\n  if (isNumberOrNull(propsDuration)) return propsDuration;\n  return defaults.autoHideDuration;\n};\n\n/**\n * Derives the right transitionDuration taking into account the following\n * prority order: 1: Options, 2: Props, 3: default fallback\n */\nconst getTransitionDuration = (optionsDuration: any, propsDuration: any) => {\n  const is = (item: any, types: string[]) => types.some((t) => typeof item === t);\n\n  if (is(optionsDuration, ['string', 'number'])) {\n    return optionsDuration;\n  }\n\n  if (is(optionsDuration, ['object'])) {\n    return {\n      ...defaults.transitionDuration,\n      ...(is(propsDuration, ['object']) && propsDuration),\n      ...optionsDuration\n    };\n  }\n\n  if (is(propsDuration, ['string', 'number'])) {\n    return propsDuration;\n  }\n\n  if (is(propsDuration, ['object'])) {\n    return {\n      ...defaults.transitionDuration,\n      ...propsDuration\n    };\n  }\n\n  return defaults.transitionDuration;\n};\n\nexport const merge =\n  (options: any, props: any) =>\n  (name: keyof InternalSnack, shouldObjectMerge = false): any => {\n    if (shouldObjectMerge) {\n      return {\n        ...(defaults as any)[name],\n        ...props[name],\n        ...options[name]\n      };\n    }\n\n    if (name === 'autoHideDuration') {\n      return getAutoHideDuration(options.autoHideDuration, props.autoHideDuration);\n    }\n\n    if (name === 'transitionDuration') {\n      return getTransitionDuration(options.transitionDuration, props.transitionDuration);\n    }\n\n    return options[name] || props[name] || (defaults as any)[name];\n  };\n","import { css, CSSAttribute } from 'goober';\n\nexport function makeStyles<\n  S extends {\n    [key: string]: CSSAttribute;\n  },\n  K extends keyof S\n>(styles: S): { [key in K]: string } {\n  return Object.entries(styles).reduce(\n    (acc, [key, value]) => ({\n      ...acc,\n      [key]: css(value)\n    }),\n    {} as { [key in K]: string }\n  );\n}\n\nexport const ComponentClasses = {\n  SnackbarContainer: 'snackbar-SnackbarContainer',\n  Snackbar: 'snackbar-Snackbar',\n  CollapseWrapper: 'snackbar-CollapseWrapper',\n  MuiContent: 'snackbar-MuiContent',\n  MuiContentVariant: (variant: string) => `snackbar-MuiContent-${variant}`\n};\n","/**\n * Credit to MUI team @ https://mui.com\n */\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { reflow } from '../utils';\nimport TransitionComponent from '../Transition';\nimport useForkRef from '../useForkRef';\nimport { TransitionProps } from '../../types';\nimport getTransitionProps from '../getTransitionProps';\nimport createTransition from '../createTransition';\nimport { ComponentClasses, makeStyles } from '../../utils/styles';\n\nconst classes = makeStyles({\n  root: {\n    height: 0\n  },\n  entered: {\n    height: 'auto'\n  }\n});\n\nconst collapsedSize = '0px';\nconst timeout = 175;\n\ninterface CollapseProps {\n  children: JSX.Element;\n  in: boolean;\n  onExited: TransitionProps['onExited'];\n}\n\nconst Collapse = React.forwardRef<HTMLDivElement, CollapseProps>((props, ref) => {\n  const { children, in: inProp, onExited } = props;\n\n  const wrapperRef = React.useRef<HTMLDivElement>(null);\n\n  const nodeRef = React.useRef<HTMLDivElement>(null);\n  const handleRef = useForkRef(ref, nodeRef);\n\n  const getWrapperSize = () => (wrapperRef.current ? wrapperRef.current.clientHeight : 0);\n\n  const handleEnter: TransitionProps['onEnter'] = (node) => {\n    node.style.height = collapsedSize;\n  };\n\n  const handleEntering = (node: HTMLElement) => {\n    const wrapperSize = getWrapperSize();\n\n    const { duration: transitionDuration, easing } = getTransitionProps({\n      timeout,\n      mode: 'enter'\n    });\n\n    node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : `${transitionDuration}ms`;\n\n    node.style.height = `${wrapperSize}px`;\n    node.style.transitionTimingFunction = easing || '';\n  };\n\n  const handleEntered: TransitionProps['onEntered'] = (node) => {\n    node.style.height = 'auto';\n  };\n\n  const handleExit: TransitionProps['onExit'] = (node) => {\n    node.style.height = `${getWrapperSize()}px`;\n  };\n\n  const handleExiting = (node: HTMLElement) => {\n    reflow(node);\n\n    const { duration: transitionDuration, easing } = getTransitionProps({\n      timeout,\n      mode: 'exit'\n    });\n\n    node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : `${transitionDuration}ms`;\n    node.style.height = collapsedSize;\n    node.style.transitionTimingFunction = easing || '';\n  };\n\n  return (\n    <TransitionComponent\n      in={inProp}\n      unmountOnExit\n      onEnter={handleEnter}\n      onEntered={handleEntered}\n      onEntering={handleEntering}\n      onExit={handleExit}\n      onExited={onExited}\n      onExiting={handleExiting}\n      nodeRef={nodeRef}\n      timeout={timeout}\n    >\n      {(state, childProps) => (\n        <div\n          ref={handleRef}\n          className={clsx(classes.root, { [classes.entered]: state === 'entered' })}\n          style={{\n            pointerEvents: 'all',\n            overflow: 'hidden',\n            minHeight: collapsedSize,\n            transition: createTransition('height'),\n            ...(state === 'entered' && {\n              overflow: 'visible'\n            }),\n            ...(state === 'exited' &&\n              !inProp && {\n                visibility: 'hidden'\n              })\n          }}\n          {...childProps}\n        >\n          <div\n            ref={wrapperRef}\n            className={ComponentClasses.CollapseWrapper}\n            // Hack to get children with a negative margin to not falsify the height computation.\n            style={{ display: 'flex', width: '100%' }}\n          >\n            {children}\n          </div>\n        </div>\n      )}\n    </TransitionComponent>\n  );\n});\n\nCollapse.displayName = 'Collapse';\n\nexport default Collapse;\n","import {\n  InternalSnack,\n  SlideTransitionDirection,\n  SnackbarOrigin,\n  SnackbarClassKey,\n  SnackbarProviderProps,\n  ClassNameMap,\n  ContainerClassKey\n} from '../types';\nimport { originKeyExtractor } from '../utils';\n\nconst direction: Record<string, SlideTransitionDirection> = {\n  right: 'left',\n  left: 'right',\n  bottom: 'up',\n  top: 'down'\n};\n\nexport const getSlideDirection = (anchorOrigin: InternalSnack['anchorOrigin']): SlideTransitionDirection => {\n  if (anchorOrigin.horizontal !== 'center') {\n    return direction[anchorOrigin.horizontal];\n  }\n  return direction[anchorOrigin.vertical];\n};\n\n/** Tranforms classes name */\nexport const toSnackbarAnchorOrigin = (anchorOrigin: SnackbarOrigin): SnackbarClassKey =>\n  `anchorOrigin${originKeyExtractor(anchorOrigin)}` as SnackbarClassKey;\n\n/**\n * Omit SnackbarContainer class keys that are not needed for SnackbarItem\n */\nexport const keepSnackbarClassKeys = (classes: SnackbarProviderProps['classes'] = {}): Partial<ClassNameMap<SnackbarClassKey>> => {\n  const containerClasses: Record<ContainerClassKey, true> = {\n    containerRoot: true,\n    containerAnchorOriginTopCenter: true,\n    containerAnchorOriginBottomCenter: true,\n    containerAnchorOriginTopRight: true,\n    containerAnchorOriginBottomRight: true,\n    containerAnchorOriginTopLeft: true,\n    containerAnchorOriginBottomLeft: true\n  };\n  return (Object.keys(classes) as ContainerClassKey[])\n    .filter((key) => !containerClasses[key])\n    .reduce((obj, key) => ({ ...obj, [key]: classes[key] }), {});\n};\n","import { SnackbarKey } from 'src/types';\n\nconst noOp = () => {\n  /* */\n};\n\n/**\n * Credit to MUI team @ https://mui.com\n * Safe chained function.\n *\n * Will only create a new function if needed,\n * otherwise will pass back existing functions or null.\n */\nexport default function createChainedFunction<Args extends any[], This>(\n  funcs: Array<((this: This, ...args: Args) => any) | undefined>,\n  snackbarId?: SnackbarKey\n): (this: This, ...args: Args) => void {\n  // @ts-ignore\n  return funcs.reduce((acc, func) => {\n    if (func === null || func === undefined) {\n      return acc;\n    }\n\n    return function chainedFunction(...args) {\n      const argums = [...args] as any;\n      if (snackbarId && argums.indexOf(snackbarId) === -1) {\n        argums.push(snackbarId);\n      }\n      // @ts-ignore\n      acc.apply(this, argums);\n      func.apply(this, argums);\n    };\n  }, noOp);\n}\n","/**\n * Credit to MUI team @ https://mui.com\n * https://github.com/facebook/react/issues/14099#issuecomment-440013892\n */\nimport * as React from 'react';\n\nconst useEnhancedEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n\nexport default function useEventCallback<Args extends unknown[], Return>(fn: (...args: Args) => Return): (...args: Args) => Return {\n  const ref = React.useRef(fn);\n  useEnhancedEffect(() => {\n    ref.current = fn;\n  });\n  return React.useCallback(\n    (...args: Args) =>\n      // @ts-expect-error hide `this`\n      (0, ref.current)(...args),\n    []\n  );\n}\n","/**\n * Credit to MUI team @ https://mui.com\n */\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport useEventCallback from '../utils/useEventCallback';\nimport { CloseReason, SharedProps, SnackbarKey } from '../types';\nimport { ComponentClasses } from '../utils/styles';\n\ninterface SnackbarProps extends Required<Pick<SharedProps, 'disableWindowBlurListener' | 'onClose'>> {\n  open: boolean;\n  id: SnackbarKey;\n  className: string;\n  children: JSX.Element;\n  autoHideDuration: number | null | undefined;\n  SnackbarProps: SharedProps['SnackbarProps'];\n}\n\nconst Snackbar = React.forwardRef<HTMLDivElement, SnackbarProps>((props, ref) => {\n  const { children, className, autoHideDuration, disableWindowBlurListener = false, onClose, id, open, SnackbarProps = {} } = props;\n\n  const timerAutoHide = React.useRef<ReturnType<typeof setTimeout>>();\n\n  const handleClose = useEventCallback((...args: [null, CloseReason, SnackbarKey]) => {\n    if (onClose) {\n      onClose(...args);\n    }\n  });\n\n  const setAutoHideTimer = useEventCallback((autoHideDurationParam?: number | null) => {\n    if (!onClose || autoHideDurationParam == null) {\n      return;\n    }\n\n    if (timerAutoHide.current) {\n      clearTimeout(timerAutoHide.current);\n    }\n    timerAutoHide.current = setTimeout(() => {\n      handleClose(null, 'timeout', id);\n    }, autoHideDurationParam);\n  });\n\n  React.useEffect(() => {\n    if (open) {\n      setAutoHideTimer(autoHideDuration);\n    }\n\n    return () => {\n      if (timerAutoHide.current) {\n        clearTimeout(timerAutoHide.current);\n      }\n    };\n  }, [open, autoHideDuration, setAutoHideTimer]);\n\n  /**\n   * Pause the timer when the user is interacting with the Snackbar\n   * or when the user hide the window.\n   */\n  const handlePause = () => {\n    if (timerAutoHide.current) {\n      clearTimeout(timerAutoHide.current);\n    }\n  };\n\n  /**\n   * Restart the timer when the user is no longer interacting with the Snackbar\n   * or when the window is shown back.\n   */\n  const handleResume = React.useCallback(() => {\n    if (autoHideDuration != null) {\n      setAutoHideTimer(autoHideDuration * 0.5);\n    }\n  }, [autoHideDuration, setAutoHideTimer]);\n\n  const handleMouseEnter: React.MouseEventHandler<HTMLDivElement> = (event) => {\n    if (SnackbarProps.onMouseEnter) {\n      SnackbarProps.onMouseEnter(event);\n    }\n    handlePause();\n  };\n\n  const handleMouseLeave: React.MouseEventHandler<HTMLDivElement> = (event) => {\n    if (SnackbarProps.onMouseLeave) {\n      SnackbarProps.onMouseLeave(event);\n    }\n    handleResume();\n  };\n\n  React.useEffect(() => {\n    if (!disableWindowBlurListener && open) {\n      window.addEventListener('focus', handleResume);\n      window.addEventListener('blur', handlePause);\n\n      return () => {\n        window.removeEventListener('focus', handleResume);\n        window.removeEventListener('blur', handlePause);\n      };\n    }\n\n    return undefined;\n  }, [disableWindowBlurListener, handleResume, open]);\n\n  return (\n    <div\n      ref={ref}\n      {...SnackbarProps}\n      className={clsx(ComponentClasses.Snackbar, className)}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n    >\n      {children}\n    </div>\n  );\n});\n\nSnackbar.displayName = 'Snackbar';\n\nexport default Snackbar;\n","import React, { forwardRef } from 'react';\nimport clsx from 'clsx';\nimport { SnackbarContentProps } from '../types';\nimport { breakpoints } from '../utils';\nimport { makeStyles } from '../utils/styles';\n\nconst classes = makeStyles({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flexGrow: 1,\n    [breakpoints.upSm]: {\n      flexGrow: 'initial',\n      minWidth: '288px'\n    }\n  }\n});\n\nconst SnackbarContent = forwardRef<HTMLDivElement, SnackbarContentProps>(({ className, ...props }, ref) => (\n  <div ref={ref} className={clsx(classes.root, className)} {...props} />\n));\n\nSnackbarContent.displayName = 'SnackbarContent';\n\nexport default SnackbarContent;\n","import React, { forwardRef, memo } from 'react';\nimport clsx from 'clsx';\nimport SnackbarContent from '../../SnackbarContent';\nimport { CustomContentProps } from '../../types';\nimport { ComponentClasses, makeStyles } from '../../utils/styles';\n\nconst classes = makeStyles({\n  root: {\n    backgroundColor: '#313131', // dark grey\n    fontSize: '0.875rem',\n    lineHeight: 1.43,\n    letterSpacing: '0.01071em',\n    color: '#fff',\n    alignItems: 'center',\n    padding: '6px 16px',\n    borderRadius: '4px',\n    boxShadow: '0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)'\n  },\n  lessPadding: {\n    paddingLeft: `${8 * 2.5}px`\n  },\n  default: {\n    backgroundColor: '#313131' // dark grey\n  },\n  success: {\n    backgroundColor: '#43a047' // green\n  },\n  error: {\n    backgroundColor: '#d32f2f' // dark red\n  },\n  warning: {\n    backgroundColor: '#ff9800' // amber\n  },\n  info: {\n    backgroundColor: '#2196f3' // nice blue\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: '8px 0'\n  },\n  action: {\n    display: 'flex',\n    alignItems: 'center',\n    marginLeft: 'auto',\n    paddingLeft: '16px',\n    marginRight: '-8px'\n  }\n});\n\nconst ariaDescribedby = 'snackbar-snackbar';\n\nconst MaterialDesignContent = forwardRef<HTMLDivElement, CustomContentProps>((props, forwardedRef) => {\n  const { id, message, action: componentOrFunctionAction, iconVariant, variant, hideIconVariant, style, className } = props;\n\n  const icon = iconVariant[variant];\n\n  let action = componentOrFunctionAction;\n  if (typeof action === 'function') {\n    action = action(id);\n  }\n\n  return (\n    <SnackbarContent\n      ref={forwardedRef}\n      role=\"alert\"\n      aria-describedby={ariaDescribedby}\n      style={style}\n      className={clsx(\n        ComponentClasses.MuiContent,\n        ComponentClasses.MuiContentVariant(variant),\n        classes.root,\n        { [classes.lessPadding]: !hideIconVariant && icon },\n        classes[variant],\n        className\n      )}\n    >\n      <div id={ariaDescribedby} className={classes.message}>\n        {!hideIconVariant ? icon : null}\n        {message}\n      </div>\n      {action && <div className={classes.action}>{action}</div>}\n    </SnackbarContent>\n  );\n});\n\nMaterialDesignContent.displayName = 'MaterialDesignContent';\n\nexport default memo(MaterialDesignContent);\n","import React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport clsx from 'clsx';\nimport Collapse from '../transitions/Collapse';\nimport { getSlideDirection, toSnackbarAnchorOrigin, keepSnackbarClassKeys } from './utils';\nimport { TransitionHandlerProps, SnackbarProviderProps, CustomContentProps, InternalSnack, SharedProps } from '../types';\nimport createChainedFunction from '../utils/createChainedFunction';\nimport Snackbar from './Snackbar';\nimport { makeStyles } from '../utils/styles';\nimport MaterialDesignContent from '../ui/MaterialDesignContent';\n\nconst styles = makeStyles({\n  wrappedRoot: {\n    width: '100%',\n    position: 'relative',\n    transform: 'translateX(0)',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    minWidth: '288px'\n  }\n});\n\ninterface SnackbarItemProps extends Required<Pick<SnackbarProviderProps, 'onEntered' | 'onExited' | 'onClose'>> {\n  snack: InternalSnack;\n  classes: SnackbarProviderProps['classes'];\n  onEnter: SnackbarProviderProps['onEnter'];\n  onExit: SnackbarProviderProps['onExit'];\n  Component?: React.ComponentType<CustomContentProps>;\n}\n\nconst SnackbarItem: React.FC<SnackbarItemProps> = (props) => {\n  const timeout = useRef<ReturnType<typeof setTimeout>>();\n  const [collapsed, setCollapsed] = useState(true);\n\n  const handleClose: NonNullable<SharedProps['onClose']> = createChainedFunction([props.snack.onClose, props.onClose]);\n\n  const handleEntered: TransitionHandlerProps['onEntered'] = () => {\n    if (props.snack.requestClose) {\n      handleClose(null, 'instructed', props.snack.id);\n    }\n  };\n\n  const handleExitedScreen = useCallback((): void => {\n    timeout.current = setTimeout(() => {\n      setCollapsed((col) => !col);\n    }, 125);\n  }, []);\n\n  useEffect(\n    () => (): void => {\n      if (timeout.current) {\n        clearTimeout(timeout.current);\n      }\n    },\n    []\n  );\n\n  const { snack, classes: allClasses, Component = MaterialDesignContent } = props;\n\n  const classes = useMemo(() => keepSnackbarClassKeys(allClasses), [allClasses]);\n\n  const {\n    open,\n    SnackbarProps,\n    TransitionComponent,\n    TransitionProps,\n    transitionDuration,\n    disableWindowBlurListener,\n    content: componentOrFunctionContent,\n    entered: ignoredEntered,\n    requestClose: ignoredRequestClose,\n    onEnter: ignoreOnEnter,\n    onEntered: ignoreOnEntered,\n    onExit: ignoreOnExit,\n    onExited: ignoreOnExited,\n    ...otherSnack\n  } = snack;\n\n  const transitionProps = {\n    direction: getSlideDirection(otherSnack.anchorOrigin),\n    timeout: transitionDuration,\n    ...TransitionProps\n  };\n\n  let content = componentOrFunctionContent;\n  if (typeof content === 'function') {\n    content = content(otherSnack.id, otherSnack.message);\n  }\n\n  const callbacks: { [key in keyof TransitionHandlerProps]?: any } = (\n    ['onEnter', 'onEntered', 'onExit', 'onExited'] as (keyof TransitionHandlerProps)[]\n  ).reduce(\n    (acc, cbName) => ({\n      ...acc,\n      [cbName]: createChainedFunction([props.snack[cbName] as any, props[cbName] as any], otherSnack.id)\n    }),\n    {}\n  );\n\n  return (\n    <Collapse in={collapsed} onExited={callbacks.onExited}>\n      <Snackbar\n        open={open}\n        id={otherSnack.id}\n        disableWindowBlurListener={disableWindowBlurListener}\n        autoHideDuration={otherSnack.autoHideDuration}\n        className={clsx(styles.wrappedRoot, classes.root, classes[toSnackbarAnchorOrigin(otherSnack.anchorOrigin)])}\n        SnackbarProps={SnackbarProps}\n        onClose={handleClose}\n      >\n        <TransitionComponent\n          {...transitionProps}\n          appear\n          in={open}\n          onExit={callbacks.onExit}\n          onExited={handleExitedScreen}\n          onEnter={callbacks.onEnter}\n          // order matters. first callbacks.onEntered to set entered: true,\n          // then handleEntered to check if there's a request for closing\n          onEntered={createChainedFunction([callbacks.onEntered, handleEntered], otherSnack.id)}\n        >\n          {(content as React.ReactElement) || <Component {...otherSnack} />}\n        </TransitionComponent>\n      </Snackbar>\n    </Collapse>\n  );\n};\n\nexport default SnackbarItem;\n","import React, { memo } from 'react';\nimport clsx from 'clsx';\nimport createTransition from '../transitions/createTransition';\nimport { makeStyles, ComponentClasses } from '../utils/styles';\nimport { breakpoints, originKeyExtractor } from '../utils';\nimport { ContainerClassKey, SnackbarProviderProps } from '../types';\n\nconst indents = {\n  view: { default: 20, dense: 4 },\n  snackbar: { default: 6, dense: 2 }\n};\n\nconst collapseWrapper = `.${ComponentClasses.CollapseWrapper}`;\n\nconst xsWidthMargin = 16;\n\nconst styles = makeStyles({\n  root: {\n    boxSizing: 'border-box',\n    display: 'flex',\n    maxHeight: '100%',\n    position: 'fixed',\n    zIndex: 1400,\n    height: 'auto',\n    width: 'auto',\n    transition: createTransition(['top', 'right', 'bottom', 'left', 'max-width'], {\n      duration: 300,\n      easing: 'ease'\n    }),\n    // container itself is invisible and should not block clicks, clicks should be passed to its children\n    // a pointerEvents: all is applied in the collapse component\n    pointerEvents: 'none',\n    [collapseWrapper]: {\n      padding: `${indents.snackbar.default}px 0px`,\n      transition: 'padding 300ms ease 0ms'\n    },\n    maxWidth: `calc(100% - ${indents.view.default * 2}px)`,\n    [breakpoints.downXs]: {\n      width: '100%',\n      maxWidth: `calc(100% - ${xsWidthMargin * 2}px)`\n    }\n  },\n  rootDense: {\n    [collapseWrapper]: {\n      padding: `${indents.snackbar.dense}px 0px`\n    }\n  },\n  top: {\n    top: `${indents.view.default - indents.snackbar.default}px`,\n    flexDirection: 'column'\n  },\n  bottom: {\n    bottom: `${indents.view.default - indents.snackbar.default}px`,\n    flexDirection: 'column-reverse'\n  },\n  left: {\n    left: `${indents.view.default}px`,\n    [breakpoints.upSm]: {\n      alignItems: 'flex-start'\n    },\n    [breakpoints.downXs]: {\n      left: `${xsWidthMargin}px`\n    }\n  },\n  right: {\n    right: `${indents.view.default}px`,\n    [breakpoints.upSm]: {\n      alignItems: 'flex-end'\n    },\n    [breakpoints.downXs]: {\n      right: `${xsWidthMargin}px`\n    }\n  },\n  center: {\n    left: '50%',\n    transform: 'translateX(-50%)',\n    [breakpoints.upSm]: {\n      alignItems: 'center'\n    }\n  }\n});\n\ninterface SnackbarContainerProps {\n  children: React.ReactNode;\n  dense: SnackbarProviderProps['dense'];\n  anchorOrigin: NonNullable<SnackbarProviderProps['anchorOrigin']>;\n  classes: SnackbarProviderProps['classes'];\n}\n\nconst SnackbarContainer: React.FC<SnackbarContainerProps> = (props) => {\n  const { classes = {}, anchorOrigin, dense, children } = props;\n\n  const combinedClassname = clsx(\n    ComponentClasses.SnackbarContainer,\n    styles[anchorOrigin.vertical],\n    styles[anchorOrigin.horizontal],\n    { [styles.rootDense]: dense },\n    styles.root, // root should come after others to override maxWidth\n    classes.containerRoot,\n    classes[`containerAnchorOrigin${originKeyExtractor(anchorOrigin)}` as ContainerClassKey]\n  );\n\n  return <div className={combinedClassname}>{children}</div>;\n};\n\nexport default memo(SnackbarContainer);\n","/* eslint-disable */\nconst __DEV__ = process.env.NODE_ENV !== 'production';\n\nconst messages = {\n  NO_PERSIST_ALL:\n    \"Reached maxSnack while all enqueued snackbars have 'persist' flag. Snackbar will dismiss the oldest snackbar anyway to allow other ones in the queue to be presented.\"\n};\n\nexport default (messageKey: keyof typeof messages): void => {\n  if (!__DEV__) return;\n\n  const message = messages[messageKey];\n  if (typeof console !== 'undefined') {\n    console.error(`WARNING - snackbar: ${message}`);\n  }\n  try {\n    throw new Error(message);\n  } catch (x) {}\n};\n","import React, { Component, isValidElement } from 'react';\nimport { createPortal } from 'react-dom';\nimport clsx from 'clsx';\nimport SnackbarContext from '../SnackbarContext';\nimport { originKeyExtractor, isDefined } from '../utils';\nimport { defaults, merge } from './merger';\nimport SnackbarItem from '../SnackbarItem';\nimport SnackbarContainer from '../SnackbarContainer';\nimport warning from '../utils/warning';\nimport {\n  SnackbarProviderProps,\n  SnackbarKey,\n  ProviderContext,\n  TransitionHandlerProps,\n  InternalSnack,\n  OptionsObject,\n  SharedProps,\n  SnackbarMessage\n} from '../types';\nimport createChainedFunction from '../utils/createChainedFunction';\n\nconst isOptions = (\n  messageOrOptions: SnackbarMessage | (OptionsObject & { message?: SnackbarMessage })\n): messageOrOptions is OptionsObject & { message?: SnackbarMessage } => {\n  const isMessage = typeof messageOrOptions === 'string' || isValidElement(messageOrOptions);\n  return !isMessage;\n};\n\ntype Reducer = (state: State) => State;\ntype SnacksByPosition = { [key: string]: InternalSnack[] };\n\ninterface State {\n  snacks: InternalSnack[];\n  queue: InternalSnack[];\n  contextValue: ProviderContext;\n}\n\nexport let enqueueSnackbar: ProviderContext['enqueueSnackbar'];\nexport let closeSnackbar: ProviderContext['closeSnackbar'];\n\nclass SnackbarProvider extends Component<SnackbarProviderProps, State> {\n  constructor(props: SnackbarProviderProps) {\n    super(props);\n    enqueueSnackbar = this.enqueueSnackbar;\n    closeSnackbar = this.closeSnackbar;\n\n    this.state = {\n      snacks: [],\n      queue: [],\n      contextValue: {\n        enqueueSnackbar: this.enqueueSnackbar.bind(this),\n        closeSnackbar: this.closeSnackbar.bind(this)\n      }\n    };\n  }\n\n  get maxSnack(): number {\n    return this.props.maxSnack || defaults.maxSnack;\n  }\n\n  /**\n   * Adds a new snackbar to the queue to be presented.\n   * Returns generated or user defined key referencing the new snackbar or null\n   */\n  enqueueSnackbar = (\n    messageOrOptions: SnackbarMessage | (OptionsObject & { message?: SnackbarMessage }),\n    optsOrUndefined: OptionsObject = {}\n  ): SnackbarKey => {\n    if (messageOrOptions === undefined || messageOrOptions === null) {\n      throw new Error('enqueueSnackbar called with invalid argument');\n    }\n\n    const opts = isOptions(messageOrOptions) ? messageOrOptions : optsOrUndefined;\n\n    const message: SnackbarMessage | undefined = isOptions(messageOrOptions) ? messageOrOptions.message : messageOrOptions;\n\n    const { key, preventDuplicate, ...options } = opts;\n\n    const hasSpecifiedKey = isDefined(key);\n    const id = hasSpecifiedKey ? (key as SnackbarKey) : new Date().getTime() + Math.random();\n\n    const merger = merge(options, this.props);\n    const snack: InternalSnack = {\n      id,\n      ...options,\n      message,\n      open: true,\n      entered: false,\n      requestClose: false,\n      persist: merger('persist'),\n      action: merger('action'),\n      content: merger('content'),\n      variant: merger('variant'),\n      anchorOrigin: merger('anchorOrigin'),\n      disableWindowBlurListener: merger('disableWindowBlurListener'),\n      autoHideDuration: merger('autoHideDuration'),\n      hideIconVariant: merger('hideIconVariant'),\n      TransitionComponent: merger('TransitionComponent'),\n      transitionDuration: merger('transitionDuration'),\n      TransitionProps: merger('TransitionProps', true),\n      iconVariant: merger('iconVariant', true),\n      style: merger('style', true),\n      SnackbarProps: merger('SnackbarProps', true),\n      className: clsx(this.props.className, options.className)\n    };\n\n    if (snack.persist) {\n      snack.autoHideDuration = undefined;\n    }\n\n    this.setState((state) => {\n      if ((preventDuplicate === undefined && this.props.preventDuplicate) || preventDuplicate) {\n        const compareFunction = (item: InternalSnack): boolean => (hasSpecifiedKey ? item.id === id : item.message === message);\n\n        const inQueue = state.queue.findIndex(compareFunction) > -1;\n        const inView = state.snacks.findIndex(compareFunction) > -1;\n        if (inQueue || inView) {\n          return state;\n        }\n      }\n\n      return this.handleDisplaySnack({\n        ...state,\n        queue: [...state.queue, snack]\n      });\n    });\n\n    return id;\n  };\n\n  /**\n   * Reducer: Display snack if there's space for it. Otherwise, immediately\n   * begin dismissing the oldest message to start showing the new one.\n   */\n  handleDisplaySnack: Reducer = (state) => {\n    const { snacks } = state;\n    if (snacks.length >= this.maxSnack) {\n      return this.handleDismissOldest(state);\n    }\n    return this.processQueue(state);\n  };\n\n  /**\n   * Reducer: Display items (notifications) in the queue if there's space for them.\n   */\n  processQueue: Reducer = (state) => {\n    const { queue, snacks } = state;\n    if (queue.length > 0) {\n      return {\n        ...state,\n        snacks: [...snacks, queue[0]],\n        queue: queue.slice(1, queue.length)\n      };\n    }\n    return state;\n  };\n\n  /**\n   * Reducer: Hide oldest snackbar on the screen because there exists a new one which we have to display.\n   * (ignoring the one with 'persist' flag. i.e. explicitly told by user not to get dismissed).\n   *\n   * Note 1: If there is already a message leaving the screen, no new messages are dismissed.\n   * Note 2: If the oldest message has not yet entered the screen, only a request to close the\n   *         snackbar is made. Once it entered the screen, it will be immediately dismissed.\n   */\n  handleDismissOldest: Reducer = (state) => {\n    if (state.snacks.some((item) => !item.open || item.requestClose)) {\n      return state;\n    }\n\n    let popped = false;\n    let ignore = false;\n\n    const persistentCount = state.snacks.reduce((acc, current) => acc + (current.open && current.persist ? 1 : 0), 0);\n\n    if (persistentCount === this.maxSnack) {\n      warning('NO_PERSIST_ALL');\n      ignore = true;\n    }\n\n    const snacks = state.snacks.map((item) => {\n      if (!popped && (!item.persist || ignore)) {\n        popped = true;\n\n        if (!item.entered) {\n          return {\n            ...item,\n            requestClose: true\n          };\n        }\n\n        if (item.onClose) {\n          item.onClose(null, 'maxsnack', item.id);\n        }\n\n        if (this.props.onClose) {\n          this.props.onClose(null, 'maxsnack', item.id);\n        }\n\n        return {\n          ...item,\n          open: false\n        };\n      }\n\n      return { ...item };\n    });\n\n    return { ...state, snacks };\n  };\n\n  /**\n   * Set the entered state of the snackbar with the given key.\n   */\n  handleEnteredSnack: TransitionHandlerProps['onEntered'] = (node, isAppearing, key) => {\n    if (!isDefined(key)) {\n      throw new Error('handleEnteredSnack Cannot be called with undefined key');\n    }\n\n    this.setState(({ snacks }) => ({\n      snacks: snacks.map((item) => (item.id === key ? { ...item, entered: true } : { ...item }))\n    }));\n  };\n\n  /**\n   * Hide a snackbar after its timeout.\n   */\n  handleCloseSnack: NonNullable<SharedProps['onClose']> = (event, reason, key) => {\n    // should not use createChainedFunction for onClose.\n    // because this.closeSnackbar called this function\n    if (this.props.onClose) {\n      this.props.onClose(event, reason, key);\n    }\n\n    const shouldCloseAll = key === undefined;\n\n    this.setState(({ snacks, queue }) => ({\n      snacks: snacks.map((item) => {\n        if (!shouldCloseAll && item.id !== key) {\n          return { ...item };\n        }\n\n        return item.entered ? { ...item, open: false } : { ...item, requestClose: true };\n      }),\n      queue: queue.filter((item) => item.id !== key)\n    }));\n  };\n\n  /**\n   * Close snackbar with the given key\n   */\n  closeSnackbar: ProviderContext['closeSnackbar'] = (key) => {\n    // call individual snackbar onClose callback passed through options parameter\n    const toBeClosed = this.state.snacks.find((item) => item.id === key);\n    if (isDefined(key) && toBeClosed && toBeClosed.onClose) {\n      toBeClosed.onClose(null, 'instructed', key);\n    }\n\n    this.handleCloseSnack(null, 'instructed', key);\n  };\n\n  /**\n   * When we set open attribute of a snackbar to false (i.e. after we hide a snackbar),\n   * it leaves the screen and immediately after leaving animation is done, this method\n   * gets called. We remove the hidden snackbar from state and then display notifications\n   * waiting in the queue (if any). If after this process the queue is not empty, the\n   * oldest message is dismissed.\n   */\n  handleExitedSnack: TransitionHandlerProps['onExited'] = (node, key) => {\n    if (!isDefined(key)) {\n      throw new Error('handleExitedSnack Cannot be called with undefined key');\n    }\n\n    this.setState((state) => {\n      const newState = this.processQueue({\n        ...state,\n        snacks: state.snacks.filter((item) => item.id !== key)\n      });\n\n      if (newState.queue.length === 0) {\n        return newState;\n      }\n\n      return this.handleDismissOldest(newState);\n    });\n  };\n\n  render(): JSX.Element {\n    const { contextValue } = this.state;\n    const { domRoot, children, dense = false, Components = {}, classes } = this.props;\n\n    const categ = this.state.snacks.reduce<SnacksByPosition>((acc, current) => {\n      const category = originKeyExtractor(current.anchorOrigin);\n      const existingOfCategory = acc[category] || [];\n      return {\n        ...acc,\n        [category]: [...existingOfCategory, current]\n      };\n    }, {});\n\n    const snackbars = Object.keys(categ).map((origin) => {\n      const snacks = categ[origin];\n      const [nomineeSnack] = snacks;\n      return (\n        <SnackbarContainer key={origin} dense={dense} anchorOrigin={nomineeSnack.anchorOrigin} classes={classes}>\n          {snacks.map((snack) => (\n            <SnackbarItem\n              key={snack.id}\n              snack={snack}\n              classes={classes}\n              Component={Components[snack.variant]}\n              onClose={this.handleCloseSnack}\n              onEnter={this.props.onEnter}\n              onExit={this.props.onExit}\n              onExited={createChainedFunction([this.handleExitedSnack, this.props.onExited], snack.id)}\n              onEntered={createChainedFunction([this.handleEnteredSnack, this.props.onEntered], snack.id)}\n            />\n          ))}\n        </SnackbarContainer>\n      );\n    });\n\n    return (\n      <SnackbarContext.Provider value={contextValue}>\n        {children}\n        {domRoot ? createPortal(snackbars, domRoot) : snackbars}\n      </SnackbarContext.Provider>\n    );\n  }\n}\n\nexport default SnackbarProvider;\n","import { useContext } from 'react';\nimport SnackbarContext from './SnackbarContext';\nimport { ProviderContext } from './types';\n\nexport default (): ProviderContext => useContext(SnackbarContext);\n"],"names":["noOp","React","createContext","enqueueSnackbar","closeSnackbar","breakpoints","downXs","upSm","capitalise","text","charAt","toUpperCase","slice","originKeyExtractor","anchor","vertical","horizontal","isDefined","value","UNMOUNTED","EXITED","ENTERING","ENTERED","EXITING","Transition","_React$Component","props","_this","call","appear","initialStatus","appearStatus","unmountOnExit","mountOnEnter","state","status","nextCallback","_inheritsLoose","getDerivedStateFromProps","_ref","prevState","nextIn","_proto","prototype","componentDidMount","updateStatus","componentDidUpdate","prevProps","nextStatus","componentWillUnmount","cancelNextCallback","getTimeouts","timeout","enter","exit","mounting","performEnter","performExit","setState","isAppearing","timeouts","safeSetState","_this2","onEntered","node","onEnter","onEntering","onTransitionEnd","_this3","onExited","onExit","onExiting","cancel","nextState","callback","setNextCallback","active","_this4","handler","doesNotHaveTimeoutOrListener","addEndListener","setTimeout","render","_this$props","children","_in","childProps","_objectWithoutPropertiesLoose","_excluded","_createClass","key","get","_this$props$nodeRef","nodeRef","current","Error","Component","noop","defaultProps","setRef","ref","useForkRef","refA","refB","refValue","getTransitionProps","_props$style","style","mode","duration","easing","transitionTimingFunction","delay","transitionDelay","defaultEasing","easeInOut","easeOut","easeIn","sharp","reflow","scrollTop","formatMs","milliseconds","Math","round","createTransition","options","_ref$duration","_ref$easing","_ref$delay","properties","Array","isArray","map","animatedProp","formattedDuration","formattedDelay","join","ownerDocument","document","ownerWindow","doc","defaultView","window","debounce","func","wait","debounced","args","_len","_key","arguments","later","apply","clearTimeout","clear","getTranslateValue","direction","rect","getBoundingClientRect","containerWindow","transform","fakeTransform","computedStyle","getComputedStyle","getPropertyValue","offsetX","offsetY","transformValues","split","parseInt","innerWidth","left","width","innerHeight","top","height","setTranslateValue","webkitTransform","Slide","_props$direction","inProp","_props$timeout","other","handleRefIntermediary","handleRef","handleEnter","handleEntering","transitionProps","_extends","webkitTransition","transition","handleExit","handleExited","updatePosition","undefined","handleResize","addEventListener","removeEventListener","TransitionComponent","visibility","displayName","SvgIcon","viewBox","focusable","fontSize","marginInlineEnd","userSelect","display","fill","flexShrink","CheckIcon","d","WarningIcon","ErrorIcon","InfoIcon","defaultIconVariants","success","warning","error","info","defaults","maxSnack","persist","hideIconVariant","disableWindowBlurListener","variant","autoHideDuration","iconVariant","anchorOrigin","transitionDuration","getAutoHideDuration","optionsDuration","propsDuration","isNumberOrNull","numberish","getTransitionDuration","is","item","types","some","t","merge","name","shouldObjectMerge","makeStyles","styles","Object","entries","reduce","acc","_extends2","css","ComponentClasses","SnackbarContainer","Snackbar","CollapseWrapper","MuiContent","MuiContentVariant","classes","root","entered","collapsedSize","Collapse","wrapperRef","getWrapperSize","clientHeight","wrapperSize","_getTransitionProps","handleEntered","handleExiting","_getTransitionProps2","className","clsx","pointerEvents","overflow","minHeight","right","bottom","getSlideDirection","toSnackbarAnchorOrigin","keepSnackbarClassKeys","containerClasses","containerRoot","containerAnchorOriginTopCenter","containerAnchorOriginBottomCenter","containerAnchorOriginTopRight","containerAnchorOriginBottomRight","containerAnchorOriginTopLeft","containerAnchorOriginBottomLeft","keys","filter","obj","createChainedFunction","funcs","snackbarId","chainedFunction","argums","concat","indexOf","push","useEnhancedEffect","useEventCallback","fn","_props$disableWindowB","onClose","id","open","_props$SnackbarProps","SnackbarProps","timerAutoHide","handleClose","setAutoHideTimer","autoHideDurationParam","handlePause","handleResume","handleMouseEnter","event","onMouseEnter","handleMouseLeave","onMouseLeave","_root","flexWrap","flexGrow","minWidth","SnackbarContent","forwardRef","backgroundColor","lineHeight","letterSpacing","color","alignItems","padding","borderRadius","boxShadow","lessPadding","paddingLeft","message","action","marginLeft","marginRight","ariaDescribedby","MaterialDesignContent","forwardedRef","componentOrFunctionAction","icon","role","memo","wrappedRoot","position","SnackbarItem","useRef","_useState","useState","collapsed","setCollapsed","snack","requestClose","handleExitedScreen","useCallback","col","useEffect","allClasses","_props$Component","useMemo","TransitionProps","componentOrFunctionContent","content","ignoredEntered","otherSnack","callbacks","cbName","indents","view","dense","snackbar","collapseWrapper","xsWidthMargin","boxSizing","maxHeight","zIndex","maxWidth","rootDense","_rootDense","flexDirection","_left","_right","center","_center","_props$classes","combinedClassname","__DEV__","process","env","NODE_ENV","messages","NO_PERSIST_ALL","messageKey","console","x","isOptions","messageOrOptions","isMessage","isValidElement","SnackbarProvider","_Component","optsOrUndefined","opts","preventDuplicate","hasSpecifiedKey","Date","getTime","random","merger","compareFunction","inQueue","queue","findIndex","inView","snacks","handleDisplaySnack","length","handleDismissOldest","processQueue","popped","ignore","persistentCount","reason","shouldCloseAll","_ref2","toBeClosed","find","handleCloseSnack","newState","contextValue","bind","domRoot","_this$props$dense","_this$props$Component","Components","categ","category","existingOfCategory","snackbars","origin","nomineeSnack","handleExitedSnack","handleEnteredSnack","SnackbarContext","Provider","createPortal","useContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,IAAMA,IAAI,GAAG,SAAPA,IAAIA;EACR,OAAO,EAAE;AACX,CAAC;AAED,mCAAeC,cAAK,CAACC,aAAa,CAAkB;EAClDC,eAAe,EAAEH,IAAI;EACrBI,aAAa,EAAEJ;CAChB,CAAC;;ACRK,IAAMK,WAAW,GAAG;EACzBC,MAAM,EAAE,6BAA6B;EACrCC,IAAI,EAAE;CACP;AAED,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAIC,IAAY;EAAA,OAAaA,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAGF,IAAI,CAACG,KAAK,CAAC,CAAC,CAAC;AAAA;AAEzF,AAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIC,MAAqC;EAAA,YACnEN,UAAU,CAACM,MAAM,CAACC,QAAQ,CAAC,GAAGP,UAAU,CAACM,MAAM,CAACE,UAAU,CAAC;AAAA,CAAE;AAElE,AAAO,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAIC,KAAyC;EAAA,OAAc,CAAC,CAACA,KAAK,IAAIA,KAAK,KAAK,CAAC;AAAA;;;ACZvG,AAmCA,IAAMC,SAAS,GAAG,WAAW;AAC7B,IAAMC,MAAM,GAAG,QAAQ;AACvB,IAAMC,QAAQ,GAAG,UAAU;AAC3B,IAAMC,OAAO,GAAG,SAAS;AACzB,IAAMC,OAAO,GAAG,SAAS;AAAC,IAYpBC,UAAW,0BAAAC,gBAAA;EAKf,SAAAD,WAAYE,KAA+B;;IACzCC,KAAA,GAAAF,gBAAA,CAAAG,IAAA,OAAMF,KAAK,CAAC;IAEZ,IAAQG,MAAM,GAAKH,KAAK,CAAhBG,MAAM;IAEd,IAAIC,aAA+B;IAEnCH,KAAA,CAAKI,YAAY,GAAG,IAAI;IAExB,IAAIL,KAAK,MAAG,EAAE;MACZ,IAAIG,MAAM,EAAE;QACVC,aAAa,GAAGV,MAAM;QACtBO,KAAA,CAAKI,YAAY,GAAGV,QAAQ;OAC7B,MAAM;QACLS,aAAa,GAAGR,OAAO;;KAE1B,MAAM,IAAII,KAAK,CAACM,aAAa,IAAIN,KAAK,CAACO,YAAY,EAAE;MACpDH,aAAa,GAAGX,SAAS;KAC1B,MAAM;MACLW,aAAa,GAAGV,MAAM;;IAGxBO,KAAA,CAAKO,KAAK,GAAG;MAAEC,MAAM,EAAEL;KAAe;IAEtCH,KAAA,CAAKS,YAAY,GAAG,IAAI;IAAC,OAAAT,KAAA;;EAC1BU,cAAA,CAAAb,UAAA,EAAAC,gBAAA;EAAAD,UAAA,CAUMc,wBAAwB,GAA/B,SAAAA,yBAAAC,IAAA,EAA0EC,SAAgB;QAApDC,MAAM,GAAAF,IAAA;IAC1C,IAAIE,MAAM,IAAID,SAAS,CAACL,MAAM,KAAKhB,SAAS,EAAE;MAC5C,OAAO;QAAEgB,MAAM,EAAEf;OAAQ;;IAE3B,OAAO,IAAI;GACZ;EAAA,IAAAsB,MAAA,GAAAlB,UAAA,CAAAmB,SAAA;EAAAD,MAAA,CAEDE,iBAAiB,GAAjB,SAAAA;IACE,IAAI,CAACC,YAAY,CAAC,IAAI,EAAE,IAAI,CAACd,YAAY,CAAC;GAC3C;EAAAW,MAAA,CAEDI,kBAAkB,GAAlB,SAAAA,mBAAmBC,SAAmC;IACpD,IAAIC,UAAU,GAA4B,IAAI;IAC9C,IAAID,SAAS,KAAK,IAAI,CAACrB,KAAK,EAAE;MAC5B,IAAQS,MAAM,GAAK,IAAI,CAACD,KAAK,CAArBC,MAAM;MAEd,IAAI,IAAI,CAACT,KAAK,MAAG,EAAE;QACjB,IAAIS,MAAM,KAAKd,QAAQ,IAAIc,MAAM,KAAKb,OAAO,EAAE;UAC7C0B,UAAU,GAAG3B,QAAQ;;OAExB,MAAM,IAAIc,MAAM,KAAKd,QAAQ,IAAIc,MAAM,KAAKb,OAAO,EAAE;QACpD0B,UAAU,GAAGzB,OAAO;;;IAGxB,IAAI,CAACsB,YAAY,CAAC,KAAK,EAAEG,UAAU,CAAC;GACrC;EAAAN,MAAA,CAEDO,oBAAoB,GAApB,SAAAA;IACE,IAAI,CAACC,kBAAkB,EAAE;GAC1B;EAAAR,MAAA,CAEDS,WAAW,GAAX,SAAAA;IACE,IAAQC,OAAO,GAAK,IAAI,CAAC1B,KAAK,CAAtB0B,OAAO;IACf,IAAIC,KAAK,GAAGD,OAAO;IACnB,IAAIE,IAAI,GAAGF,OAAO;IAElB,IAAIA,OAAO,IAAI,IAAI,IAAI,OAAOA,OAAO,KAAK,QAAQ,IAAI,OAAOA,OAAO,KAAK,QAAQ,EAAE;MACjFE,IAAI,GAAGF,OAAO,CAACE,IAAI;MACnBD,KAAK,GAAGD,OAAO,CAACC,KAAK;;IAEvB,OAAO;MACLC,IAAI,EAAEA,IAAc;MACpBD,KAAK,EAAEA;KACR;GACF;EAAAX,MAAA,CAEDG,YAAY,GAAZ,SAAAA,aAAaU,QAAQ,EAAUP,UAAmC;QAArDO,QAAQ;MAARA,QAAQ,GAAG,KAAK;;IAC3B,IAAIP,UAAU,KAAK,IAAI,EAAE;MACvB,IAAI,CAACE,kBAAkB,EAAE;MAEzB,IAAIF,UAAU,KAAK3B,QAAQ,EAAE;QAC3B,IAAI,CAACmC,YAAY,CAACD,QAAQ,CAAC;OAC5B,MAAM;QACL,IAAI,CAACE,WAAW,EAAE;;KAErB,MAAM,IAAI,IAAI,CAAC/B,KAAK,CAACM,aAAa,IAAI,IAAI,CAACE,KAAK,CAACC,MAAM,KAAKf,MAAM,EAAE;MACnE,IAAI,CAACsC,QAAQ,CAAC;QAAEvB,MAAM,EAAEhB;OAAW,CAAC;;GAEvC;EAAAuB,MAAA,CAEDc,YAAY,GAAZ,SAAAA,aAAaD,QAAiB;;IAC5B,IAAQF,KAAK,GAAK,IAAI,CAAC3B,KAAK,CAApB2B,KAAK;IACb,IAAMM,WAAW,GAAGJ,QAAQ;IAE5B,IAAMK,QAAQ,GAAG,IAAI,CAACT,WAAW,EAAE;IAEnC,IAAI,CAACI,QAAQ,IAAI,CAACF,KAAK,EAAE;MACvB,IAAI,CAACQ,YAAY,CAAC;QAAE1B,MAAM,EAAEb;OAAS,EAAE;QACrC,IAAIwC,MAAI,CAACpC,KAAK,CAACqC,SAAS,EAAE;UACxBD,MAAI,CAACpC,KAAK,CAACqC,SAAS,CAACD,MAAI,CAACE,IAAI,EAAEL,WAAW,CAAC;;OAE/C,CAAC;MACF;;IAGF,IAAI,IAAI,CAACjC,KAAK,CAACuC,OAAO,EAAE;MACtB,IAAI,CAACvC,KAAK,CAACuC,OAAO,CAAC,IAAI,CAACD,IAAI,EAAEL,WAAW,CAAC;;IAG5C,IAAI,CAACE,YAAY,CAAC;MAAE1B,MAAM,EAAEd;KAAU,EAAE;MACtC,IAAIyC,MAAI,CAACpC,KAAK,CAACwC,UAAU,EAAE;QACzBJ,MAAI,CAACpC,KAAK,CAACwC,UAAU,CAACJ,MAAI,CAACE,IAAI,EAAEL,WAAW,CAAC;;MAG/CG,MAAI,CAACK,eAAe,CAACP,QAAQ,CAACP,KAAK,EAAE;QACnCS,MAAI,CAACD,YAAY,CAAC;UAAE1B,MAAM,EAAEb;SAAS,EAAE;UACrC,IAAIwC,MAAI,CAACpC,KAAK,CAACqC,SAAS,EAAE;YACxBD,MAAI,CAACpC,KAAK,CAACqC,SAAS,CAACD,MAAI,CAACE,IAAI,EAAEL,WAAW,CAAC;;SAE/C,CAAC;OACH,CAAC;KACH,CAAC;GACH;EAAAjB,MAAA,CAEDe,WAAW,GAAX,SAAAA;;IACE,IAAQH,IAAI,GAAK,IAAI,CAAC5B,KAAK,CAAnB4B,IAAI;IACZ,IAAMM,QAAQ,GAAG,IAAI,CAACT,WAAW,EAAE;;IAGnC,IAAI,CAACG,IAAI,EAAE;MACT,IAAI,CAACO,YAAY,CAAC;QAAE1B,MAAM,EAAEf;OAAQ,EAAE;QACpC,IAAIgD,MAAI,CAAC1C,KAAK,CAAC2C,QAAQ,EAAE;UACvBD,MAAI,CAAC1C,KAAK,CAAC2C,QAAQ,CAACD,MAAI,CAACJ,IAAI,CAAC;;OAEjC,CAAC;MACF;;IAGF,IAAI,IAAI,CAACtC,KAAK,CAAC4C,MAAM,EAAE;MACrB,IAAI,CAAC5C,KAAK,CAAC4C,MAAM,CAAC,IAAI,CAACN,IAAI,CAAC;;IAG9B,IAAI,CAACH,YAAY,CAAC;MAAE1B,MAAM,EAAEZ;KAAS,EAAE;MACrC,IAAI6C,MAAI,CAAC1C,KAAK,CAAC6C,SAAS,EAAE;QACxBH,MAAI,CAAC1C,KAAK,CAAC6C,SAAS,CAACH,MAAI,CAACJ,IAAI,CAAC;;MAGjCI,MAAI,CAACD,eAAe,CAACP,QAAQ,CAACN,IAAI,EAAE;QAClCc,MAAI,CAACP,YAAY,CAAC;UAAE1B,MAAM,EAAEf;SAAQ,EAAE;UACpC,IAAIgD,MAAI,CAAC1C,KAAK,CAAC2C,QAAQ,EAAE;YACvBD,MAAI,CAAC1C,KAAK,CAAC2C,QAAQ,CAACD,MAAI,CAACJ,IAAI,CAAC;;SAEjC,CAAC;OACH,CAAC;KACH,CAAC;GACH;EAAAtB,MAAA,CAEDQ,kBAAkB,GAAlB,SAAAA;IACE,IAAI,IAAI,CAACd,YAAY,KAAK,IAAI,IAAI,IAAI,CAACA,YAAY,CAACoC,MAAM,EAAE;MAC1D,IAAI,CAACpC,YAAY,CAACoC,MAAM,EAAE;MAC1B,IAAI,CAACpC,YAAY,GAAG,IAAI;;GAE3B;EAAAM,MAAA,CAEDmB,YAAY,GAAZ,SAAAA,aAAaY,SAAgB,EAAEC,QAAoB;IACjDA,QAAQ,GAAG,IAAI,CAACC,eAAe,CAACD,QAAQ,CAAC;IACzC,IAAI,CAAChB,QAAQ,CAACe,SAAS,EAAEC,QAAQ,CAAC;GACnC;EAAAhC,MAAA,CAEDiC,eAAe,GAAf,SAAAA,gBAAgBD,QAAoB;;IAClC,IAAIE,MAAM,GAAG,IAAI;IAEjB,IAAI,CAACxC,YAAY,GAAG;MAClB,IAAIwC,MAAM,EAAE;QACVA,MAAM,GAAG,KAAK;QACdC,MAAI,CAACzC,YAAY,GAAG,IAAI;QAExBsC,QAAQ,EAAE;;KAEb;IAEA,IAAI,CAACtC,YAA6B,CAACoC,MAAM,GAAG;MAC3CI,MAAM,GAAG,KAAK;KACf;IAED,OAAO,IAAI,CAACxC,YAAY;GACzB;EAAAM,MAAA,CAEDyB,eAAe,GAAf,SAAAA,gBAAgBf,OAAe,EAAE0B,OAAmB;IAClD,IAAI,CAACH,eAAe,CAACG,OAAO,CAAC;IAC7B,IAAMC,4BAA4B,GAAG3B,OAAO,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC1B,KAAK,CAACsD,cAAc;IAClF,IAAI,CAAC,IAAI,CAAChB,IAAI,IAAIe,4BAA4B,EAAE;MAC9CE,UAAU,CAAC,IAAI,CAAC7C,YAA4B,EAAE,CAAC,CAAC;MAChD;;IAGF,IAAI,IAAI,CAACV,KAAK,CAACsD,cAAc,EAAE;MAC7B,IAAI,CAACtD,KAAK,CAACsD,cAAc,CAAC,IAAI,CAAChB,IAAI,EAAE,IAAI,CAAC5B,YAA4B,CAAC;;IAGzE,IAAIgB,OAAO,IAAI,IAAI,EAAE;MACnB6B,UAAU,CAAC,IAAI,CAAC7C,YAA4B,EAAEgB,OAAO,CAAC;;GAEzD;EAAAV,MAAA,CAEDwC,MAAM,GAAN,SAAAA;IACE,IAAQ/C,MAAM,GAAK,IAAI,CAACD,KAAK,CAArBC,MAAM;IAEd,IAAIA,MAAM,KAAKhB,SAAS,EAAE;MACxB,OAAO,IAAI;;IAGb,IAAAgE,WAAA,GAmBI,IAAI,CAACzD,KAAK;MAlBZ0D,QAAQ,GAAAD,WAAA,CAARC,QAAQ;MAEJC,AAeDC,UAAU,GAAAC,6BAAA,CAAAJ,WAAA,EAAAK,SAAA;IAGf,OAAOJ,QAAQ,CAACjD,MAAM,EAAEmD,UAAU,CAAC;GACpC;EAAA,OAAAG,YAAA,CAAAjE,UAAA;IAAAkE,GAAA;IAAAC,GAAA,EApND,SAAAA;;MACE,IAAM3B,IAAI,IAAA4B,mBAAA,GAAG,IAAI,CAAClE,KAAK,CAACmE,OAAO,cAAAD,mBAAA,uBAAlBA,mBAAA,CAAoBE,OAAO;MACxC,IAAI,CAAC9B,IAAI,EAAE;QACT,MAAM,IAAI+B,KAAK,CAAC,iDAAiD,CAAC;;MAEpE,OAAO/B,IAAI;;;AACZ,EAtCsB/D,cAAK,CAAC+F,SAA0C;AAuPzE,SAASC,IAAIA;;AACX;AAGDzE,UAAkB,CAAC0E,YAAY,GAAG;EACjC,MAAI,KAAK;EACTjE,YAAY,EAAE,KAAK;EACnBD,aAAa,EAAE,KAAK;EACpBH,MAAM,EAAE,KAAK;EACbwB,KAAK,EAAE,IAAI;EACXC,IAAI,EAAE,IAAI;EAEVW,OAAO,EAAEgC,IAAI;EACb/B,UAAU,EAAE+B,IAAI;EAChBlC,SAAS,EAAEkC,IAAI;EAEf3B,MAAM,EAAE2B,IAAI;EACZ1B,SAAS,EAAE0B,IAAI;EACf5B,QAAQ,EAAE4B;CACX;;AC7TD;;;AAGA,AAEA;;;;;;;AAOA,SAASE,MAAMA,CAAIC,GAAyF,EAAElF,KAAe;EAC3H,IAAI,OAAOkF,GAAG,KAAK,UAAU,EAAE;IAC7BA,GAAG,CAAClF,KAAK,CAAC;GACX,MAAM,IAAIkF,GAAG,EAAE;IACdA,GAAG,CAACN,OAAO,GAAG5E,KAAK;;AAEvB;AAEA,SAAwBmF,UAAUA,CAChCC,IAA4C,EAC5CC,IAA4C;;;;;;EAO5C,OAAOtG,OAAa,CAAC;IACnB,IAAIqG,IAAI,IAAI,IAAI,IAAIC,IAAI,IAAI,IAAI,EAAE;MAChC,OAAO,IAAI;;IAEb,OAAO,UAACC,QAAQ;MACdL,MAAM,CAACG,IAAI,EAAEE,QAAQ,CAAC;MACtBL,MAAM,CAACI,IAAI,EAAEC,QAAQ,CAAC;KACvB;GACF,EAAE,CAACF,IAAI,EAAEC,IAAI,CAAC,CAAC;AAClB;;SCpBwBE,kBAAkBA,CAAC/E,KAAqB;EAC9D,IAAQ0B,OAAO,GAAuB1B,KAAK,CAAnC0B,OAAO;IAAAsD,YAAA,GAAuBhF,KAAK,CAA1BiF,KAAK;IAALA,KAAK,GAAAD,YAAA,cAAG,EAAE,GAAAA,YAAA;IAAEE,IAAI,GAAKlF,KAAK,CAAdkF,IAAI;EACjC,OAAO;IACLC,QAAQ,EAAE,OAAOzD,OAAO,KAAK,QAAQ,GAAGA,OAAO,CAACwD,IAAI,CAAC,IAAI,CAAC,GAAGxD,OAAO;IACpE0D,MAAM,EAAEH,KAAK,CAACI,wBAAwB;IACtCC,KAAK,EAAEL,KAAK,CAACM;GACd;AACH;;ACzBA;;;AAGA,AAAO,IAAMC,aAAa,GAAG;;EAE3BC,SAAS,EAAE,8BAA8B;;;EAGzCC,OAAO,EAAE,8BAA8B;;EAEvCC,MAAM,EAAE,4BAA4B;;EAEpCC,KAAK,EAAE;CACR;AAED;;;AAGA,AAAO,IAAMC,MAAM,GAAG,SAATA,MAAMA,CAAIvD,IAAa;;;;EAIlCA,IAAI,CAACwD,SAAS,GAAGxD,IAAI,CAACwD,SAAS;AACjC,CAAC;;ACfD,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAIC,YAAoB;EAAA,OAAQC,IAAI,CAACC,KAAK,CAACF,YAAY,CAAC;AAAA,CAAI;AAE1E,SAAwBG,gBAAgBA,CAACnG,OAAoCoG,OAAiC;MAArEpG;IAAAA,QAA2B,CAAC,KAAK,CAAC;;EACzE,IAAAa,IAAA,GAAwEuF,OAAO,IAAI,EAAE;IAAAC,aAAA,GAAAxF,IAAA,CAA7EsE,QAAQ;IAARA,QAAQ,GAAAkB,aAAA,cAAG,GAAG,GAAAA,aAAA;IAAAC,WAAA,GAAAzF,IAAA,CAAEuE,MAAM;IAANA,MAAM,GAAAkB,WAAA,cAAGd,aAAa,CAACC,SAAS,GAAAa,WAAA;IAAAC,UAAA,GAAA1F,IAAA,CAAEyE,KAAK;IAALA,KAAK,GAAAiB,UAAA,cAAG,CAAC,GAAAA,UAAA;EAEnE,IAAMC,UAAU,GAAGC,KAAK,CAACC,OAAO,CAAC1G,KAAK,CAAC,GAAGA,KAAK,GAAG,CAACA,KAAK,CAAC;EAEzD,OAAOwG,UAAU,CACdG,GAAG,CAAC,UAACC,YAAY;IAChB,IAAMC,iBAAiB,GAAG,OAAO1B,QAAQ,KAAK,QAAQ,GAAGA,QAAQ,GAAGY,QAAQ,CAACZ,QAAQ,CAAC;IACtF,IAAM2B,cAAc,GAAG,OAAOxB,KAAK,KAAK,QAAQ,GAAGA,KAAK,GAAGS,QAAQ,CAACT,KAAK,CAAC;IAC1E,OAAUsB,YAAY,SAAIC,iBAAiB,SAAIzB,MAAM,SAAI0B,cAAc;GACxE,CAAC,CACDC,IAAI,CAAC,GAAG,CAAC;AACd;;;ACtBA,AAWA,SAASC,aAAaA,CAAC1E,IAA6B;EAClD,OAAQA,IAAI,IAAIA,IAAI,CAAC0E,aAAa,IAAKC,QAAQ;AACjD;AAEA,SAASC,WAAWA,CAAC5E,IAAiB;EACpC,IAAM6E,GAAG,GAAGH,aAAa,CAAC1E,IAAI,CAAC;EAC/B,OAAO6E,GAAG,CAACC,WAAW,IAAIC,MAAM;AAClC;AAEA;;;;AAIA,SAASC,QAAQA,CAACC,IAAgB,EAAEC,IAAI;MAAJA,IAAI;IAAJA,IAAI,GAAG,GAAG;;EAC5C,IAAI9F,OAAsC;EAC1C,SAAS+F,SAASA;;sCAAIC,IAAW,OAAAjB,KAAA,CAAAkB,IAAA,GAAAC,IAAA,MAAAA,IAAA,GAAAD,IAAA,EAAAC,IAAA;MAAXF,IAAW,CAAAE,IAAA,IAAAC,SAAA,CAAAD,IAAA;;IAC/B,IAAME,KAAK,GAAG,SAARA,KAAKA;;MAETP,IAAI,CAACQ,KAAK,CAAC9H,KAAI,EAAEyH,IAAI,CAAC;KACvB;IACDM,YAAY,CAACtG,OAAO,CAAC;IACrBA,OAAO,GAAG6B,UAAU,CAACuE,KAAK,EAAEN,IAAI,CAAC;;EAGnCC,SAAS,CAACQ,KAAK,GAAG;IAChBD,YAAY,CAACtG,OAAO,CAAC;GACtB;EAED,OAAO+F,SAAS;AAClB;AAEA;;;;AAIA,SAASS,iBAAiBA,CAACC,SAAmC,EAAE7F,IAA8C;EAC5G,IAAM8F,IAAI,GAAG9F,IAAI,CAAC+F,qBAAqB,EAAE;EACzC,IAAMC,eAAe,GAAGpB,WAAW,CAAC5E,IAAI,CAAC;EACzC,IAAIiG,SAAS;EAEb,IAAIjG,IAAI,CAACkG,aAAa,EAAE;IACtBD,SAAS,GAAGjG,IAAI,CAACkG,aAAa;GAC/B,MAAM;IACL,IAAMC,aAAa,GAAGH,eAAe,CAACI,gBAAgB,CAACpG,IAAI,CAAC;IAC5DiG,SAAS,GAAGE,aAAa,CAACE,gBAAgB,CAAC,mBAAmB,CAAC,IAAIF,aAAa,CAACE,gBAAgB,CAAC,WAAW,CAAC;;EAGhH,IAAIC,OAAO,GAAG,CAAC;EACf,IAAIC,OAAO,GAAG,CAAC;EAEf,IAAIN,SAAS,IAAIA,SAAS,KAAK,MAAM,IAAI,OAAOA,SAAS,KAAK,QAAQ,EAAE;IACtE,IAAMO,eAAe,GAAGP,SAAS,CAACQ,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACA,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACA,KAAK,CAAC,GAAG,CAAC;IACxEH,OAAO,GAAGI,QAAQ,CAACF,eAAe,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;IAC1CD,OAAO,GAAGG,QAAQ,CAACF,eAAe,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;;EAG5C,QAAQX,SAAS;IACf,KAAK,MAAM;MACT,wBAAqBG,eAAe,CAACW,UAAU,GAAGL,OAAO,GAAGR,IAAI,CAACc,IAAI;IACvE,KAAK,OAAO;MACV,yBAAsBd,IAAI,CAACc,IAAI,GAAGd,IAAI,CAACe,KAAK,GAAGP,OAAO;IACxD,KAAK,IAAI;MACP,wBAAqBN,eAAe,CAACc,WAAW,GAAGP,OAAO,GAAGT,IAAI,CAACiB,GAAG;IACvE;;MAEE,yBAAsBjB,IAAI,CAACiB,GAAG,GAAGjB,IAAI,CAACkB,MAAM,GAAGT,OAAO;;AAE5D;AAEA,SAASU,iBAAiBA,CAACpB,SAAmC,EAAE7F,IAAwB;EACtF,IAAI,CAACA,IAAI,EAAE;EACX,IAAMiG,SAAS,GAAGL,iBAAiB,CAACC,SAAS,EAAE7F,IAAI,CAAC;EACpD,IAAIiG,SAAS,EAAE;IACbjG,IAAI,CAAC2C,KAAK,CAACuE,eAAe,GAAGjB,SAAS;IACtCjG,IAAI,CAAC2C,KAAK,CAACsD,SAAS,GAAGA,SAAS;;AAEpC;AAEA,IAAMkB,KAAK,gBAAGlL,UAAgB,CAA2B,UAACyB,KAAK,EAAE0E,GAAG;EAClE,IAAQhB,QAAQ,GAAyG1D,KAAK,CAAtH0D,QAAQ;IAAAgG,gBAAA,GAAyG1J,KAAK,CAA5GmI,SAAS;IAATA,SAAS,GAAAuB,gBAAA,cAAG,MAAM,GAAAA,gBAAA;IAAMC,MAAM,GAAyE3J,KAAK;IAA5EiF,KAAK,GAAkEjF,KAAK,CAA5EiF,KAAK;IAAA2E,cAAA,GAAkE5J,KAAK,CAArE0B,OAAO;IAAPA,OAAO,GAAAkI,cAAA,cAAG,CAAC,GAAAA,cAAA;IAAErH,OAAO,GAA4CvC,KAAK,CAAxDuC,OAAO;IAAEF,SAAS,GAAiCrC,KAAK,CAA/CqC,SAAS;IAAEO,MAAM,GAAyB5C,KAAK,CAApC4C,MAAM;IAAED,QAAQ,GAAe3C,KAAK,CAA5B2C,QAAQ;IAAKkH,KAAK,GAAAhG,6BAAA,CAAK7D,KAAK,EAAA8D,WAAA;EAE9H,IAAMK,OAAO,GAAG5F,MAAY,CAAC,IAAI,CAAC;EAClC,IAAMuL,qBAAqB,GAAGnF,UAAU,CAAEjB,QAAgB,CAACgB,GAAG,EAAEP,OAAO,CAAC;EACxE,IAAM4F,SAAS,GAAGpF,UAAU,CAACmF,qBAAqB,EAAEpF,GAAG,CAAC;EAExD,IAAMsF,WAAW,GAA+B,SAA1CA,WAAWA,CAAgC1H,IAAI,EAAEL,WAAW;IAChEsH,iBAAiB,CAACpB,SAAS,EAAE7F,IAAI,CAAC;IAClCuD,MAAM,CAACvD,IAAI,CAAC;IAEZ,IAAIC,OAAO,EAAE;MACXA,OAAO,CAACD,IAAI,EAAEL,WAAW,CAAC;;GAE7B;EAED,IAAMgI,cAAc,GAAG,SAAjBA,cAAcA,CAAI3H,IAAiB;IACvC,IAAM8C,MAAM,GAAG,CAAAH,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEI,wBAAwB,KAAIG,aAAa,CAACE,OAAO;IACvE,IAAMwE,eAAe,GAAGnF,kBAAkB,CAAC;MACzCrD,OAAO,EAAPA,OAAO;MACPwD,IAAI,EAAE,OAAO;MACbD,KAAK,EAAAkF,QAAA,KAAOlF,KAAK;QAAEI,wBAAwB,EAAED;;KAC9C,CAAC;IAEF9C,IAAI,CAAC2C,KAAK,CAACmF,gBAAgB,GAAGjE,gBAAgB,CAAC,mBAAmB,EAAE+D,eAAe,CAAC;IACpF5H,IAAI,CAAC2C,KAAK,CAACoF,UAAU,GAAGlE,gBAAgB,CAAC,WAAW,EAAE+D,eAAe,CAAC;IAEtE5H,IAAI,CAAC2C,KAAK,CAACuE,eAAe,GAAG,MAAM;IACnClH,IAAI,CAAC2C,KAAK,CAACsD,SAAS,GAAG,MAAM;GAC9B;EAED,IAAM+B,UAAU,GAA8B,SAAxCA,UAAUA,CAA+BhI,IAAI;IACjD,IAAM8C,MAAM,GAAG,CAAAH,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEI,wBAAwB,KAAIG,aAAa,CAACI,KAAK;IACrE,IAAMsE,eAAe,GAAGnF,kBAAkB,CAAC;MACzCrD,OAAO,EAAPA,OAAO;MACPwD,IAAI,EAAE,MAAM;MACZD,KAAK,EAAAkF,QAAA,KAAOlF,KAAK;QAAEI,wBAAwB,EAAED;;KAC9C,CAAC;IAEF9C,IAAI,CAAC2C,KAAK,CAACmF,gBAAgB,GAAGjE,gBAAgB,CAAC,mBAAmB,EAAE+D,eAAe,CAAC;IACpF5H,IAAI,CAAC2C,KAAK,CAACoF,UAAU,GAAGlE,gBAAgB,CAAC,WAAW,EAAE+D,eAAe,CAAC;IAEtEX,iBAAiB,CAACpB,SAAS,EAAE7F,IAAI,CAAC;IAElC,IAAIM,MAAM,EAAE;MACVA,MAAM,CAACN,IAAI,CAAC;;GAEf;EAED,IAAMiI,YAAY,GAAgC,SAA5CA,YAAYA,CAAiCjI,IAAI;;IAErDA,IAAI,CAAC2C,KAAK,CAACmF,gBAAgB,GAAG,EAAE;IAChC9H,IAAI,CAAC2C,KAAK,CAACoF,UAAU,GAAG,EAAE;IAE1B,IAAI1H,QAAQ,EAAE;MACZA,QAAQ,CAACL,IAAI,CAAC;;GAEjB;EAED,IAAMkI,cAAc,GAAGjM,WAAiB,CAAC;IACvC,IAAI4F,OAAO,CAACC,OAAO,EAAE;MACnBmF,iBAAiB,CAACpB,SAAS,EAAEhE,OAAO,CAACC,OAAO,CAAC;;GAEhD,EAAE,CAAC+D,SAAS,CAAC,CAAC;EAEf5J,SAAe,CAAC;;IAEd,IAAIoL,MAAM,IAAIxB,SAAS,KAAK,MAAM,IAAIA,SAAS,KAAK,OAAO,EAAE;MAC3D,OAAOsC,SAAS;;IAGlB,IAAMC,YAAY,GAAGpD,QAAQ,CAAC;MAC5B,IAAInD,OAAO,CAACC,OAAO,EAAE;QACnBmF,iBAAiB,CAACpB,SAAS,EAAEhE,OAAO,CAACC,OAAO,CAAC;;KAEhD,CAAC;IAEF,IAAMkE,eAAe,GAAGpB,WAAW,CAAC/C,OAAO,CAACC,OAAO,CAAC;IACpDkE,eAAe,CAACqC,gBAAgB,CAAC,QAAQ,EAAED,YAAY,CAAC;IACxD,OAAO;MACLA,YAAY,CAACzC,KAAK,EAAE;MACpBK,eAAe,CAACsC,mBAAmB,CAAC,QAAQ,EAAEF,YAAY,CAAC;KAC5D;GACF,EAAE,CAACvC,SAAS,EAAEwB,MAAM,CAAC,CAAC;EAEvBpL,SAAe,CAAC;IACd,IAAI,CAACoL,MAAM,EAAE;;;MAGXa,cAAc,EAAE;;GAEnB,EAAE,CAACb,MAAM,EAAEa,cAAc,CAAC,CAAC;EAE5B,oBACEjM,cAACsM,UAAmB;IAClB1K,MAAM;IACNgE,OAAO,EAAEA,OAAO;IAChB5B,OAAO,EAAEyH,WAAW;IACpB3H,SAAS,EAAEA,SAAS;IACpBG,UAAU,EAAEyH,cAAc;IAC1BrH,MAAM,EAAE0H,UAAU;IAClB3H,QAAQ,EAAE4H,YAAY;IACtB,MAAIZ,MAAM;IACVjI,OAAO,EAAEA;KACLmI,KAAK,GAER,UAACrJ,KAAK,EAAEoD,UAAU;IAAA,oBACjBrF,YAAkB,CAACmF,QAAe,EAAAyG,QAAA;MAChCzF,GAAG,EAAEqF,SAAS;MACd9E,KAAK,EAAAkF,QAAA;QACHW,UAAU,EAAEtK,KAAK,KAAK,QAAQ,IAAI,CAACmJ,MAAM,GAAG,QAAQ,GAAGc;SACpDxF,KAAK,EACJvB,QAAgB,CAAC1D,KAAK,CAACiF,KAAK;OAE/BrB,UAAU,CACd,CAAC;IAEgB;AAE1B,CAAC,CAAC;AAEF6F,KAAK,CAACsB,WAAW,GAAG,OAAO;;AChN3B,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAIhL,KAAgC;EAAA,oBAC/CzB;IACE0M,OAAO,EAAC,WAAW;IACnBC,SAAS,EAAC,OAAO;IACjBjG,KAAK,EAAE;MACLkG,QAAQ,EAAE,EAAE;MACZC,eAAe,EAAE,CAAC;MAClBC,UAAU,EAAE,MAAM;MAClBlC,KAAK,EAAE,KAAK;MACZG,MAAM,EAAE,KAAK;MACbgC,OAAO,EAAE,cAAc;MACvBC,IAAI,EAAE,cAAc;MACpBC,UAAU,EAAE;;KAEVxL,KAAK,EACT;AAAA,CACH;AAED,IAAMyL,SAAS,GAAa,SAAtBA,SAASA;EAAA,oBACblN,6BAACyM,OAAO,qBACNzM;IACEmN,CAAC,EAAC;IAEF,CACM;AAAA,CACX;AAED,IAAMC,WAAW,GAAa,SAAxBA,WAAWA;EAAA,oBACfpN,6BAACyM,OAAO,qBACNzM;IAAMmN,CAAC,EAAC;IAAsD,CACtD;AAAA,CACX;AAED,IAAME,SAAS,GAAa,SAAtBA,SAASA;EAAA,oBACbrN,6BAACyM,OAAO,qBACNzM;IACEmN,CAAC,EAAC;IAGF,CACM;AAAA,CACX;AAED,IAAMG,QAAQ,GAAa,SAArBA,QAAQA;EAAA,oBACZtN,6BAACyM,OAAO,qBACNzM;IACEmN,CAAC,EAAC;IAEF,CACM;AAAA,CACX;AAED,IAAMI,mBAAmB,GAAoC;EAC3D,WAASrB,SAAS;EAClBsB,OAAO,eAAExN,6BAACkN,SAAS,OAAG;EACtBO,OAAO,eAAEzN,6BAACoN,WAAW,OAAG;EACxBM,KAAK,eAAE1N,6BAACqN,SAAS,OAAG;EACpBM,IAAI,eAAE3N,6BAACsN,QAAQ;CAChB;;ACxDM,IAAMM,QAAQ,GAAG;EACtBC,QAAQ,EAAE,CAAC;EACXC,OAAO,EAAE,KAAK;EACdC,eAAe,EAAE,KAAK;EACtBC,yBAAyB,EAAE,KAAK;EAChCC,OAAO,EAAE,SAAS;EAClBC,gBAAgB,EAAE,IAAI;EACtBC,WAAW,EAAEZ,mBAAmB;EAChCa,YAAY,EAAE;IAAEtN,QAAQ,EAAE,QAAQ;IAAEC,UAAU,EAAE;GAAQ;EACxDuL,mBAAmB,EAAEpB,KAAK;EAC1BmD,kBAAkB,EAAE;IAClBjL,KAAK,EAAE,GAAG;IACVC,IAAI,EAAE;;CAET;AAED;;;;AAIA,IAAMiL,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIC,eAAoB,EAAEC,aAAkB;EACnE,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,SAAwB;IAAA,OAAK,OAAOA,SAAS,KAAK,QAAQ,IAAIA,SAAS,KAAK,IAAI;;EAExG,IAAID,cAAc,CAACF,eAAe,CAAC,EAAE,OAAOA,eAAe;EAC3D,IAAIE,cAAc,CAACD,aAAa,CAAC,EAAE,OAAOA,aAAa;EACvD,OAAOZ,QAAQ,CAACM,gBAAgB;AAClC,CAAC;AAED;;;;AAIA,IAAMS,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAIJ,eAAoB,EAAEC,aAAkB;EACrE,IAAMI,EAAE,GAAG,SAALA,EAAEA,CAAIC,IAAS,EAAEC,KAAe;IAAA,OAAKA,KAAK,CAACC,IAAI,CAAC,UAACC,CAAC;MAAA,OAAK,OAAOH,IAAI,KAAKG,CAAC;MAAC;;EAE/E,IAAIJ,EAAE,CAACL,eAAe,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,EAAE;IAC7C,OAAOA,eAAe;;EAGxB,IAAIK,EAAE,CAACL,eAAe,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE;IACnC,OAAA3C,QAAA,KACKgC,QAAQ,CAACS,kBAAkB,EAC1BO,EAAE,CAACJ,aAAa,EAAE,CAAC,QAAQ,CAAC,CAAC,IAAIA,aAAa,EAC/CD,eAAe;;EAItB,IAAIK,EAAE,CAACJ,aAAa,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,EAAE;IAC3C,OAAOA,aAAa;;EAGtB,IAAII,EAAE,CAACJ,aAAa,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE;IACjC,OAAA5C,QAAA,KACKgC,QAAQ,CAACS,kBAAkB,EAC3BG,aAAa;;EAIpB,OAAOZ,QAAQ,CAACS,kBAAkB;AACpC,CAAC;AAED,AAAO,IAAMY,KAAK,GAChB,SADWA,KAAKA,CACfpH,OAAY,EAAEpG,KAAU;EAAA,OACzB,UAACyN,IAAyB,EAAEC,iBAAiB;QAAjBA,iBAAiB;MAAjBA,iBAAiB,GAAG,KAAK;;IACnD,IAAIA,iBAAiB,EAAE;MACrB,OAAAvD,QAAA,KACMgC,QAAgB,CAACsB,IAAI,CAAC,EACvBzN,KAAK,CAACyN,IAAI,CAAC,EACXrH,OAAO,CAACqH,IAAI,CAAC;;IAIpB,IAAIA,IAAI,KAAK,kBAAkB,EAAE;MAC/B,OAAOZ,mBAAmB,CAACzG,OAAO,CAACqG,gBAAgB,EAAEzM,KAAK,CAACyM,gBAAgB,CAAC;;IAG9E,IAAIgB,IAAI,KAAK,oBAAoB,EAAE;MACjC,OAAOP,qBAAqB,CAAC9G,OAAO,CAACwG,kBAAkB,EAAE5M,KAAK,CAAC4M,kBAAkB,CAAC;;IAGpF,OAAOxG,OAAO,CAACqH,IAAI,CAAC,IAAIzN,KAAK,CAACyN,IAAI,CAAC,IAAKtB,QAAgB,CAACsB,IAAI,CAAC;GAC/D;AAAA;;SCnFaE,UAAUA,CAKxBC,MAAS;EACT,OAAOC,MAAM,CAACC,OAAO,CAACF,MAAM,CAAC,CAACG,MAAM,CAClC,UAACC,GAAG,EAAAnN,IAAA;IAAA,IAAAoN,SAAA;IAAA,IAAGjK,GAAG,GAAAnD,IAAA;MAAErB,KAAK,GAAAqB,IAAA;IAAA,OAAAsJ,QAAA,KACZ6D,GAAG,GAAAC,SAAA,OAAAA,SAAA,CACLjK,GAAG,IAAGkK,GAAG,CAAC1O,KAAK,CAAC,EAAAyO,SAAA;GACjB,EACF,EAA4B,CAC7B;AACH;AAEA,AAAO,IAAME,gBAAgB,GAAG;EAC9BC,iBAAiB,EAAE,4BAA4B;EAC/CC,QAAQ,EAAE,mBAAmB;EAC7BC,eAAe,EAAE,0BAA0B;EAC3CC,UAAU,EAAE,qBAAqB;EACjCC,iBAAiB,EAAE,SAAAA,kBAAChC,OAAe;IAAA,gCAA4BA,OAAO;;CACvE;;ACVD,IAAMiC,OAAO,gBAAGd,UAAU,CAAC;EACzBe,IAAI,EAAE;IACJpF,MAAM,EAAE;GACT;EACDqF,OAAO,EAAE;IACPrF,MAAM,EAAE;;CAEX,CAAC;AAEF,IAAMsF,aAAa,GAAG,KAAK;AAC3B,IAAMlN,OAAO,GAAG,GAAG;AAQnB,IAAMmN,QAAQ,gBAAGtQ,UAAgB,CAAgC,UAACyB,KAAK,EAAE0E,GAAG;EAC1E,IAAQhB,QAAQ,GAA2B1D,KAAK,CAAxC0D,QAAQ;IAAMiG,MAAM,GAAe3J,KAAK;IAAlB2C,QAAQ,GAAK3C,KAAK,CAAlB2C,QAAQ;EAEtC,IAAMmM,UAAU,GAAGvQ,MAAY,CAAiB,IAAI,CAAC;EAErD,IAAM4F,OAAO,GAAG5F,MAAY,CAAiB,IAAI,CAAC;EAClD,IAAMwL,SAAS,GAAGpF,UAAU,CAACD,GAAG,EAAEP,OAAO,CAAC;EAE1C,IAAM4K,cAAc,GAAG,SAAjBA,cAAcA;IAAA,OAAUD,UAAU,CAAC1K,OAAO,GAAG0K,UAAU,CAAC1K,OAAO,CAAC4K,YAAY,GAAG,CAAC;GAAC;EAEvF,IAAMhF,WAAW,GAA+B,SAA1CA,WAAWA,CAAgC1H,IAAI;IACnDA,IAAI,CAAC2C,KAAK,CAACqE,MAAM,GAAGsF,aAAa;GAClC;EAED,IAAM3E,cAAc,GAAG,SAAjBA,cAAcA,CAAI3H,IAAiB;IACvC,IAAM2M,WAAW,GAAGF,cAAc,EAAE;IAEpC,IAAAG,mBAAA,GAAiDnK,kBAAkB,CAAC;QAClErD,OAAO,EAAPA,OAAO;QACPwD,IAAI,EAAE;OACP,CAAC;MAHgB0H,kBAAkB,GAAAsC,mBAAA,CAA5B/J,QAAQ;MAAsBC,MAAM,GAAA8J,mBAAA,CAAN9J,MAAM;IAK5C9C,IAAI,CAAC2C,KAAK,CAAC2H,kBAAkB,GAAG,OAAOA,kBAAkB,KAAK,QAAQ,GAAGA,kBAAkB,GAAMA,kBAAkB,OAAI;IAEvHtK,IAAI,CAAC2C,KAAK,CAACqE,MAAM,GAAM2F,WAAW,OAAI;IACtC3M,IAAI,CAAC2C,KAAK,CAACI,wBAAwB,GAAGD,MAAM,IAAI,EAAE;GACnD;EAED,IAAM+J,aAAa,GAAiC,SAA9CA,aAAaA,CAAkC7M,IAAI;IACvDA,IAAI,CAAC2C,KAAK,CAACqE,MAAM,GAAG,MAAM;GAC3B;EAED,IAAMgB,UAAU,GAA8B,SAAxCA,UAAUA,CAA+BhI,IAAI;IACjDA,IAAI,CAAC2C,KAAK,CAACqE,MAAM,GAAMyF,cAAc,EAAE,OAAI;GAC5C;EAED,IAAMK,aAAa,GAAG,SAAhBA,aAAaA,CAAI9M,IAAiB;IACtCuD,MAAM,CAACvD,IAAI,CAAC;IAEZ,IAAA+M,oBAAA,GAAiDtK,kBAAkB,CAAC;QAClErD,OAAO,EAAPA,OAAO;QACPwD,IAAI,EAAE;OACP,CAAC;MAHgB0H,kBAAkB,GAAAyC,oBAAA,CAA5BlK,QAAQ;MAAsBC,MAAM,GAAAiK,oBAAA,CAANjK,MAAM;IAK5C9C,IAAI,CAAC2C,KAAK,CAAC2H,kBAAkB,GAAG,OAAOA,kBAAkB,KAAK,QAAQ,GAAGA,kBAAkB,GAAMA,kBAAkB,OAAI;IACvHtK,IAAI,CAAC2C,KAAK,CAACqE,MAAM,GAAGsF,aAAa;IACjCtM,IAAI,CAAC2C,KAAK,CAACI,wBAAwB,GAAGD,MAAM,IAAI,EAAE;GACnD;EAED,oBACE7G,cAACsM,UAAmB;IAClB,MAAIlB,MAAM;IACVrJ,aAAa;IACbiC,OAAO,EAAEyH,WAAW;IACpB3H,SAAS,EAAE8M,aAAa;IACxB3M,UAAU,EAAEyH,cAAc;IAC1BrH,MAAM,EAAE0H,UAAU;IAClB3H,QAAQ,EAAEA,QAAQ;IAClBE,SAAS,EAAEuM,aAAa;IACxBjL,OAAO,EAAEA,OAAO;IAChBzC,OAAO,EAAEA;KAER,UAAClB,KAAK,EAAEoD,UAAU;IAAA,oBACjBrF;MACEmG,GAAG,EAAEqF,SAAS;MACduF,SAAS,EAAEC,IAAI,CAACd,OAAO,CAACC,IAAI,EAAuBlO,KAAK,KAAK,SAAS,IAArCiO,OAAO,CAACE,OAA+B,CAAC;MACzE1J,KAAK,EAAAkF,QAAA;QACHqF,aAAa,EAAE,KAAK;QACpBC,QAAQ,EAAE,QAAQ;QAClBC,SAAS,EAAEd,aAAa;QACxBvE,UAAU,EAAElE,gBAAgB,CAAC,QAAQ;SACjC3F,KAAK,KAAK,SAAS,IAAI;QACzBiP,QAAQ,EAAE;OACX,EACGjP,KAAK,KAAK,QAAQ,IACpB,CAACmJ,MAAM,IAAI;QACTmB,UAAU,EAAE;OACb;OAEDlH,UAAU,gBAEdrF;MACEmG,GAAG,EAAEoK,UAAU;MACfQ,SAAS,EAAEnB,gBAAgB,CAACG,eAAe;;MAE3CrJ,KAAK,EAAE;QAAEqG,OAAO,EAAE,MAAM;QAAEnC,KAAK,EAAE;;OAEhCzF,QAAQ,CACL,CACF;GACP,CACmB;AAE1B,CAAC,CAAC;AAEFmL,QAAQ,CAAC9D,WAAW,GAAG,UAAU;;ACnHjC,IAAM5C,SAAS,GAA6C;EAC1DwH,KAAK,EAAE,MAAM;EACbzG,IAAI,EAAE,OAAO;EACb0G,MAAM,EAAE,IAAI;EACZvG,GAAG,EAAE;CACN;AAED,AAAO,IAAMwG,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIlD,YAA2C;EAC3E,IAAIA,YAAY,CAACrN,UAAU,KAAK,QAAQ,EAAE;IACxC,OAAO6I,SAAS,CAACwE,YAAY,CAACrN,UAAU,CAAC;;EAE3C,OAAO6I,SAAS,CAACwE,YAAY,CAACtN,QAAQ,CAAC;AACzC,CAAC;AAED;AACA,AAAO,IAAMyQ,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAInD,YAA4B;EAAA,wBAClDxN,kBAAkB,CAACwN,YAAY,CAAC;AAAA,CAAsB;AAEvE;;;AAGA,AAAO,IAAMoD,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAItB;MAAAA;IAAAA,UAA4C,EAAE;;EAClF,IAAMuB,gBAAgB,GAAoC;IACxDC,aAAa,EAAE,IAAI;IACnBC,8BAA8B,EAAE,IAAI;IACpCC,iCAAiC,EAAE,IAAI;IACvCC,6BAA6B,EAAE,IAAI;IACnCC,gCAAgC,EAAE,IAAI;IACtCC,4BAA4B,EAAE,IAAI;IAClCC,+BAA+B,EAAE;GAClC;EACD,OAAQ1C,MAAM,CAAC2C,IAAI,CAAC/B,OAAO,CAAyB,CACjDgC,MAAM,CAAC,UAACzM,GAAG;IAAA,OAAK,CAACgM,gBAAgB,CAAChM,GAAG,CAAC;IAAC,CACvC+J,MAAM,CAAC,UAAC2C,GAAG,EAAE1M,GAAG;IAAA,IAAAiK,SAAA;IAAA,OAAA9D,QAAA,KAAWuG,GAAG,GAAAzC,SAAA,OAAAA,SAAA,CAAGjK,GAAG,IAAGyK,OAAO,CAACzK,GAAG,CAAC,EAAAiK,SAAA;GAAG,EAAE,EAAE,CAAC;AAChE,CAAC;;AC3CD,IAAM3P,MAAI,GAAG,SAAPA,IAAIA;;AACR,CACD;AAED;;;;;;;AAOA,SAAwBqS,qBAAqBA,CAC3CC,KAA8D,EAC9DC,UAAwB;;EAGxB,OAAOD,KAAK,CAAC7C,MAAM,CAAC,UAACC,GAAG,EAAEzG,IAAI;IAC5B,IAAIA,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAKkD,SAAS,EAAE;MACvC,OAAOuD,GAAG;;IAGZ,OAAO,SAAS8C,eAAeA;wCAAIpJ,IAAI,OAAAjB,KAAA,CAAAkB,IAAA,GAAAC,IAAA,MAAAA,IAAA,GAAAD,IAAA,EAAAC,IAAA;QAAJF,IAAI,CAAAE,IAAA,IAAAC,SAAA,CAAAD,IAAA;;MACrC,IAAMmJ,MAAM,MAAAC,MAAA,CAAOtJ,IAAI,CAAQ;MAC/B,IAAImJ,UAAU,IAAIE,MAAM,CAACE,OAAO,CAACJ,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE;QACnDE,MAAM,CAACG,IAAI,CAACL,UAAU,CAAC;;;MAGzB7C,GAAG,CAACjG,KAAK,CAAC,IAAI,EAAEgJ,MAAM,CAAC;MACvBxJ,IAAI,CAACQ,KAAK,CAAC,IAAI,EAAEgJ,MAAM,CAAC;KACzB;GACF,EAAEzS,MAAI,CAAC;AACV;;ACjCA;;;;AAIA,AAEA,IAAM6S,iBAAiB,GAAG,OAAO9J,MAAM,KAAK,WAAW,GAAG9I,eAAqB,GAAGA,SAAe;AAEjG,SAAwB6S,gBAAgBA,CAAiCC,EAA6B;EACpG,IAAM3M,GAAG,GAAGnG,MAAY,CAAC8S,EAAE,CAAC;EAC5BF,iBAAiB,CAAC;IAChBzM,GAAG,CAACN,OAAO,GAAGiN,EAAE;GACjB,CAAC;EACF,OAAO9S,WAAiB,CACtB;IAAA;;MAEE,CAAC,AAAGmG,GAAG,CAACN,OAAO,EAAA2D,KAAA,SAAAF,SAAS;;KAC1B,EAAE,CACH;AACH;;ACnBA;;;AAGA,AAeA,IAAMwG,QAAQ,gBAAG9P,UAAgB,CAAgC,UAACyB,KAAK,EAAE0E,GAAG;EAC1E,IAAQhB,QAAQ,GAA4G1D,KAAK,CAAzH0D,QAAQ;IAAE4L,SAAS,GAAiGtP,KAAK,CAA/GsP,SAAS;IAAE7C,gBAAgB,GAA+EzM,KAAK,CAApGyM,gBAAgB;IAAA6E,qBAAA,GAA+EtR,KAAK,CAAlFuM,yBAAyB;IAAzBA,yBAAyB,GAAA+E,qBAAA,cAAG,KAAK,GAAAA,qBAAA;IAAEC,OAAO,GAAmCvR,KAAK,CAA/CuR,OAAO;IAAEC,EAAE,GAA+BxR,KAAK,CAAtCwR,EAAE;IAAEC,IAAI,GAAyBzR,KAAK,CAAlCyR,IAAI;IAAAC,oBAAA,GAAyB1R,KAAK,CAA5B2R,aAAa;IAAbA,aAAa,GAAAD,oBAAA,cAAG,EAAE,GAAAA,oBAAA;EAEvH,IAAME,aAAa,GAAGrT,MAAY,EAAiC;EAEnE,IAAMsT,WAAW,GAAGT,gBAAgB,CAAC;IACnC,IAAIG,OAAO,EAAE;MACXA,OAAO,CAAAxJ,KAAA,SAAAF,SAAQ,CAAC;;GAEnB,CAAC;EAEF,IAAMiK,gBAAgB,GAAGV,gBAAgB,CAAC,UAACW,qBAAqC;IAC9E,IAAI,CAACR,OAAO,IAAIQ,qBAAqB,IAAI,IAAI,EAAE;MAC7C;;IAGF,IAAIH,aAAa,CAACxN,OAAO,EAAE;MACzB4D,YAAY,CAAC4J,aAAa,CAACxN,OAAO,CAAC;;IAErCwN,aAAa,CAACxN,OAAO,GAAGb,UAAU,CAAC;MACjCsO,WAAW,CAAC,IAAI,EAAE,SAAS,EAAEL,EAAE,CAAC;KACjC,EAAEO,qBAAqB,CAAC;GAC1B,CAAC;EAEFxT,SAAe,CAAC;IACd,IAAIkT,IAAI,EAAE;MACRK,gBAAgB,CAACrF,gBAAgB,CAAC;;IAGpC,OAAO;MACL,IAAImF,aAAa,CAACxN,OAAO,EAAE;QACzB4D,YAAY,CAAC4J,aAAa,CAACxN,OAAO,CAAC;;KAEtC;GACF,EAAE,CAACqN,IAAI,EAAEhF,gBAAgB,EAAEqF,gBAAgB,CAAC,CAAC;;;;;EAM9C,IAAME,WAAW,GAAG,SAAdA,WAAWA;IACf,IAAIJ,aAAa,CAACxN,OAAO,EAAE;MACzB4D,YAAY,CAAC4J,aAAa,CAACxN,OAAO,CAAC;;GAEtC;;;;;EAMD,IAAM6N,YAAY,GAAG1T,WAAiB,CAAC;IACrC,IAAIkO,gBAAgB,IAAI,IAAI,EAAE;MAC5BqF,gBAAgB,CAACrF,gBAAgB,GAAG,GAAG,CAAC;;GAE3C,EAAE,CAACA,gBAAgB,EAAEqF,gBAAgB,CAAC,CAAC;EAExC,IAAMI,gBAAgB,GAA4C,SAA5DA,gBAAgBA,CAA6CC,KAAK;IACtE,IAAIR,aAAa,CAACS,YAAY,EAAE;MAC9BT,aAAa,CAACS,YAAY,CAACD,KAAK,CAAC;;IAEnCH,WAAW,EAAE;GACd;EAED,IAAMK,gBAAgB,GAA4C,SAA5DA,gBAAgBA,CAA6CF,KAAK;IACtE,IAAIR,aAAa,CAACW,YAAY,EAAE;MAC9BX,aAAa,CAACW,YAAY,CAACH,KAAK,CAAC;;IAEnCF,YAAY,EAAE;GACf;EAED1T,SAAe,CAAC;IACd,IAAI,CAACgO,yBAAyB,IAAIkF,IAAI,EAAE;MACtCpK,MAAM,CAACsD,gBAAgB,CAAC,OAAO,EAAEsH,YAAY,CAAC;MAC9C5K,MAAM,CAACsD,gBAAgB,CAAC,MAAM,EAAEqH,WAAW,CAAC;MAE5C,OAAO;QACL3K,MAAM,CAACuD,mBAAmB,CAAC,OAAO,EAAEqH,YAAY,CAAC;QACjD5K,MAAM,CAACuD,mBAAmB,CAAC,MAAM,EAAEoH,WAAW,CAAC;OAChD;;IAGH,OAAOvH,SAAS;GACjB,EAAE,CAAC8B,yBAAyB,EAAE0F,YAAY,EAAER,IAAI,CAAC,CAAC;EAEnD,oBACElT;IACEmG,GAAG,EAAEA;KACDiN,aAAa;IACjBrC,SAAS,EAAEC,IAAI,CAACpB,gBAAgB,CAACE,QAAQ,EAAEiB,SAAS,CAAC;IACrD8C,YAAY,EAAEF,gBAAgB;IAC9BI,YAAY,EAAED;MAEb3O,QAAQ,CACL;AAEV,CAAC,CAAC;AAEF2K,QAAQ,CAACtD,WAAW,GAAG,UAAU;;;;ACnHjC,AAMA,IAAM0D,SAAO,gBAAGd,UAAU,CAAC;EACzBe,IAAI,GAAA6D,KAAA;IACFjH,OAAO,EAAE,MAAM;IACfkH,QAAQ,EAAE,MAAM;IAChBC,QAAQ,EAAE;KAACF,KAAA,CACV5T,WAAW,CAACE,IAAI,IAAG;IAClB4T,QAAQ,EAAE,SAAS;IACnBC,QAAQ,EAAE;GACX,EAAAH,KAAA;CAEJ,CAAC;AAEF,IAAMI,eAAe,gBAAGC,UAAU,CAAuC,UAAA/R,IAAA,EAA0B6D,GAAG;EAAA,IAA1B4K,SAAS,GAAAzO,IAAA,CAATyO,SAAS;IAAKtP,KAAK,GAAA6D,6BAAA,CAAAhD,IAAA,EAAAiD,WAAA;EAAA,oBAC7FvF;IAAKmG,GAAG,EAAEA,GAAG;IAAE4K,SAAS,EAAEC,IAAI,CAACd,SAAO,CAACC,IAAI,EAAEY,SAAS;KAAOtP,KAAK,EAAI;AAAA,CACvE,CAAC;AAEF2S,eAAe,CAAC5H,WAAW,GAAG,iBAAiB;;AChB/C,IAAM0D,SAAO,gBAAGd,UAAU,CAAC;EACzBe,IAAI,EAAE;IACJmE,eAAe,EAAE,SAAS;IAC1B1H,QAAQ,EAAE,UAAU;IACpB2H,UAAU,EAAE,IAAI;IAChBC,aAAa,EAAE,WAAW;IAC1BC,KAAK,EAAE,MAAM;IACbC,UAAU,EAAE,QAAQ;IACpBC,OAAO,EAAE,UAAU;IACnBC,YAAY,EAAE,KAAK;IACnBC,SAAS,EAAE;GACZ;EACDC,WAAW,EAAE;IACXC,WAAW,EAAK,CAAC,GAAG,GAAG;GACxB;EACD,WAAS;IACPT,eAAe,EAAE,SAAS;GAC3B;EACD9G,OAAO,EAAE;IACP8G,eAAe,EAAE,SAAS;GAC3B;EACD5G,KAAK,EAAE;IACL4G,eAAe,EAAE,SAAS;GAC3B;EACD7G,OAAO,EAAE;IACP6G,eAAe,EAAE,SAAS;GAC3B;EACD3G,IAAI,EAAE;IACJ2G,eAAe,EAAE,SAAS;GAC3B;EACDU,OAAO,EAAE;IACPjI,OAAO,EAAE,MAAM;IACf2H,UAAU,EAAE,QAAQ;IACpBC,OAAO,EAAE;GACV;EACDM,MAAM,EAAE;IACNlI,OAAO,EAAE,MAAM;IACf2H,UAAU,EAAE,QAAQ;IACpBQ,UAAU,EAAE,MAAM;IAClBH,WAAW,EAAE,MAAM;IACnBI,WAAW,EAAE;;CAEhB,CAAC;AAEF,IAAMC,eAAe,GAAG,mBAAmB;AAE3C,IAAMC,qBAAqB,gBAAGhB,UAAU,CAAqC,UAAC5S,KAAK,EAAE6T,YAAY;EAC/F,IAAQrC,EAAE,GAA0GxR,KAAK,CAAjHwR,EAAE;IAAE+B,OAAO,GAAiGvT,KAAK,CAA7GuT,OAAO;IAAUO,yBAAyB,GAA8D9T,KAAK,CAApGwT,MAAM;IAA6B9G,WAAW,GAAiD1M,KAAK,CAAjE0M,WAAW;IAAEF,OAAO,GAAwCxM,KAAK,CAApDwM,OAAO;IAAEF,eAAe,GAAuBtM,KAAK,CAA3CsM,eAAe;IAAErH,KAAK,GAAgBjF,KAAK,CAA1BiF,KAAK;IAAEqK,SAAS,GAAKtP,KAAK,CAAnBsP,SAAS;EAE/G,IAAMyE,IAAI,GAAGrH,WAAW,CAACF,OAAO,CAAC;EAEjC,IAAIgH,MAAM,GAAGM,yBAAyB;EACtC,IAAI,OAAON,MAAM,KAAK,UAAU,EAAE;IAChCA,MAAM,GAAGA,MAAM,CAAChC,EAAE,CAAC;;EAGrB,oBACEjT,6BAACoU,eAAe;IACdjO,GAAG,EAAEmP,YAAY;IACjBG,IAAI,EAAC,OAAO;wBACML,eAAe;IACjC1O,KAAK,EAAEA,KAAK;IACZqK,SAAS,EAAEC,IAAI,CACbpB,gBAAgB,CAACI,UAAU,EAC3BJ,gBAAgB,CAACK,iBAAiB,CAAChC,OAAO,CAAC,EAC3CiC,SAAO,CAACC,IAAI,EAEZD,SAAO,CAACjC,OAAO,CAAC,EAChB8C,SAAS,EAFgB,CAAChD,eAAe,IAAIyH,IAAI,IAA9CtF,SAAO,CAAC4E,WAEF;kBAGX9U;IAAKiT,EAAE,EAAEmC,eAAe;IAAErE,SAAS,EAAEb,SAAO,CAAC8E;KAC1C,CAACjH,eAAe,GAAGyH,IAAI,GAAG,IAAI,EAC9BR,OAAO,CACJ,EACLC,MAAM,iBAAIjV;IAAK+Q,SAAS,EAAEb,SAAO,CAAC+E;KAASA,MAAM,CAAO,CACzC;AAEtB,CAAC,CAAC;AAEFI,qBAAqB,CAAC7I,WAAW,GAAG,uBAAuB;AAE3D,2CAAekJ,IAAI,CAACL,qBAAqB,CAAC;;;ACxF1C,AAUA,IAAMhG,MAAM,gBAAGD,UAAU,CAAC;EACxBuG,WAAW,EAAE;IACX/K,KAAK,EAAE,MAAM;IACbgL,QAAQ,EAAE,UAAU;IACpB5L,SAAS,EAAE,eAAe;IAC1Bc,GAAG,EAAE,CAAC;IACNsG,KAAK,EAAE,CAAC;IACRC,MAAM,EAAE,CAAC;IACT1G,IAAI,EAAE,CAAC;IACPwJ,QAAQ,EAAE;;CAEb,CAAC;AAUF,IAAM0B,YAAY,GAAgC,SAA5CA,YAAYA,CAAiCpU,KAAK;EACtD,IAAM0B,OAAO,GAAG2S,MAAM,EAAiC;EACvD,IAAAC,SAAA,GAAkCC,QAAQ,CAAC,IAAI,CAAC;IAAzCC,SAAS,GAAAF,SAAA;IAAEG,YAAY,GAAAH,SAAA;EAE9B,IAAMzC,WAAW,GAAwClB,qBAAqB,CAAC,CAAC3Q,KAAK,CAAC0U,KAAK,CAACnD,OAAO,EAAEvR,KAAK,CAACuR,OAAO,CAAC,CAAC;EAEpH,IAAMpC,aAAa,GAAwC,SAArDA,aAAaA;IACjB,IAAInP,KAAK,CAAC0U,KAAK,CAACC,YAAY,EAAE;MAC5B9C,WAAW,CAAC,IAAI,EAAE,YAAY,EAAE7R,KAAK,CAAC0U,KAAK,CAAClD,EAAE,CAAC;;GAElD;EAED,IAAMoD,kBAAkB,GAAGC,WAAW,CAAC;IACrCnT,OAAO,CAAC0C,OAAO,GAAGb,UAAU,CAAC;MAC3BkR,YAAY,CAAC,UAACK,GAAG;QAAA,OAAK,CAACA,GAAG;QAAC;KAC5B,EAAE,GAAG,CAAC;GACR,EAAE,EAAE,CAAC;EAENC,SAAS,CACP;IAAA,OAAM;MACJ,IAAIrT,OAAO,CAAC0C,OAAO,EAAE;QACnB4D,YAAY,CAACtG,OAAO,CAAC0C,OAAO,CAAC;;KAEhC;KACD,EAAE,CACH;EAED,IAAQsQ,KAAK,GAA6D1U,KAAK,CAAvE0U,KAAK;IAAWM,UAAU,GAAwChV,KAAK,CAAhEyO,OAAO;IAAAwG,gBAAA,GAAoDjV,KAAK,CAA3CsE,SAAS;IAATA,SAAS,GAAA2Q,gBAAA,cAAGrB,uBAAqB,GAAAqB,gBAAA;EAErE,IAAMxG,OAAO,GAAGyG,OAAO,CAAC;IAAA,OAAMnF,qBAAqB,CAACiF,UAAU,CAAC;KAAE,CAACA,UAAU,CAAC,CAAC;EAE9E,IACEvD,IAAI,GAcFiD,KAAK,CAdPjD,IAAI;IACJE,aAAa,GAaX+C,KAAK,CAbP/C,aAAa;IACb9G,mBAAmB,GAYjB6J,KAAK,CAZP7J,mBAAmB;IACnBsK,eAAe,GAWbT,KAAK,CAXPS,eAAe;IACfvI,kBAAkB,GAUhB8H,KAAK,CAVP9H,kBAAkB;IAClBL,yBAAyB,GASvBmI,KAAK,CATPnI,yBAAyB;IAChB6I,0BAA0B,GAQjCV,KAAK,CARPW,OAAO;IACEC,AAMNC,UAAU,GAAA1R,6BAAA,CACX6Q,KAAK,EAAA5Q,WAAA;EAET,IAAMoG,eAAe,GAAAC,QAAA;IACnBhC,SAAS,EAAE0H,iBAAiB,CAAC0F,UAAU,CAAC5I,YAAY,CAAC;IACrDjL,OAAO,EAAEkL;KACNuI,eAAe,CACnB;EAED,IAAIE,OAAO,GAAGD,0BAA0B;EACxC,IAAI,OAAOC,OAAO,KAAK,UAAU,EAAE;IACjCA,OAAO,GAAGA,OAAO,CAACE,UAAU,CAAC/D,EAAE,EAAE+D,UAAU,CAAChC,OAAO,CAAC;;EAGtD,IAAMiC,SAAS,GACb,CAAC,SAAS,EAAE,WAAW,EAAE,QAAQ,EAAE,UAAU,CAC9C,CAACzH,MAAM,CACN,UAACC,GAAG,EAAEyH,MAAM;IAAA,IAAAxH,SAAA;IAAA,OAAA9D,QAAA,KACP6D,GAAG,GAAAC,SAAA,OAAAA,SAAA,CACLwH,MAAM,IAAG9E,qBAAqB,CAAC,CAAC3Q,KAAK,CAAC0U,KAAK,CAACe,MAAM,CAAQ,EAAEzV,KAAK,CAACyV,MAAM,CAAQ,CAAC,EAAEF,UAAU,CAAC/D,EAAE,CAAC,EAAAvD,SAAA;GAClG,EACF,EAAE,CACH;EAED,oBACE1P,6BAACsQ,QAAQ;IAAC,MAAI2F,SAAS;IAAE7R,QAAQ,EAAE6S,SAAS,CAAC7S;kBAC3CpE,6BAAC8P,QAAQ;IACPoD,IAAI,EAAEA,IAAI;IACVD,EAAE,EAAE+D,UAAU,CAAC/D,EAAE;IACjBjF,yBAAyB,EAAEA,yBAAyB;IACpDE,gBAAgB,EAAE8I,UAAU,CAAC9I,gBAAgB;IAC7C6C,SAAS,EAAEC,IAAI,CAAC3B,MAAM,CAACsG,WAAW,EAAEzF,OAAO,CAACC,IAAI,EAAED,OAAO,CAACqB,sBAAsB,CAACyF,UAAU,CAAC5I,YAAY,CAAC,CAAC,CAAC;IAC3GgF,aAAa,EAAEA,aAAa;IAC5BJ,OAAO,EAAEM;kBAETtT,6BAACsM,mBAAmB,oBACdX,eAAe;IACnB/J,MAAM;IACN,MAAIsR,IAAI;IACR7O,MAAM,EAAE4S,SAAS,CAAC5S,MAAM;IACxBD,QAAQ,EAAEiS,kBAAkB;IAC5BrS,OAAO,EAAEiT,SAAS,CAACjT,OAAO;;;IAG1BF,SAAS,EAAEsO,qBAAqB,CAAC,CAAC6E,SAAS,CAACnT,SAAS,EAAE8M,aAAa,CAAC,EAAEoG,UAAU,CAAC/D,EAAE;MAElF6D,OAA8B,iBAAI9W,6BAAC+F,SAAS,oBAAKiR,UAAU,EAAI,CAC7C,CACb,CACF;AAEf,CAAC;;;AC/HD,AAOA,IAAMG,OAAO,GAAG;EACdC,IAAI,EAAE;IAAE,WAAS,EAAE;IAAEC,KAAK,EAAE;GAAG;EAC/BC,QAAQ,EAAE;IAAE,WAAS,CAAC;IAAED,KAAK,EAAE;;CAChC;AAED,IAAME,eAAe,SAAO3H,gBAAgB,CAACG,eAAiB;AAE9D,IAAMyH,aAAa,GAAG,EAAE;AAExB,IAAMnI,QAAM,gBAAGD,UAAU,CAAC;EACxBe,IAAI,GAAA6D,OAAA;IACFyD,SAAS,EAAE,YAAY;IACvB1K,OAAO,EAAE,MAAM;IACf2K,SAAS,EAAE,MAAM;IACjB9B,QAAQ,EAAE,OAAO;IACjB+B,MAAM,EAAE,IAAI;IACZ5M,MAAM,EAAE,MAAM;IACdH,KAAK,EAAE,MAAM;IACbkB,UAAU,eAAElE,gBAAgB,CAAC,CAAC,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,WAAW,CAAC,EAAE;MAC5EhB,QAAQ,EAAE,GAAG;MACbC,MAAM,EAAE;KACT,CAAC;;;IAGFoK,aAAa,EAAE;KAAM+C,OAAA,CACpBuD,eAAe,IAAG;IACjB5C,OAAO,EAAKwC,OAAO,CAACG,QAAQ,WAAQ,WAAQ;IAC5CxL,UAAU,EAAE;GACb,EAAAkI,OAAA,CACD4D,QAAQ,oBAAiBT,OAAO,CAACC,IAAI,WAAQ,GAAG,CAAC,UAAApD,OAAA,CAChD5T,WAAW,CAACC,MAAM,IAAG;IACpBuK,KAAK,EAAE,MAAM;IACbgN,QAAQ,mBAAiBJ,aAAa,GAAG,CAAC;GAC3C,EAAAxD,OAAA,CACF;EACD6D,SAAS,GAAAC,UAAA,OAAAA,UAAA,CACNP,eAAe,IAAG;IACjB5C,OAAO,EAAKwC,OAAO,CAACG,QAAQ,CAACD,KAAK;GACnC,EAAAS,UAAA,CACF;EACDhN,GAAG,EAAE;IACHA,GAAG,EAAKqM,OAAO,CAACC,IAAI,WAAQ,GAAGD,OAAO,CAACG,QAAQ,WAAQ,OAAI;IAC3DS,aAAa,EAAE;GAChB;EACD1G,MAAM,EAAE;IACNA,MAAM,EAAK8F,OAAO,CAACC,IAAI,WAAQ,GAAGD,OAAO,CAACG,QAAQ,WAAQ,OAAI;IAC9DS,aAAa,EAAE;GAChB;EACDpN,IAAI,GAAAqN,KAAA;IACFrN,IAAI,EAAKwM,OAAO,CAACC,IAAI,WAAQ;KAAIY,KAAA,CAChC5X,WAAW,CAACE,IAAI,IAAG;IAClBoU,UAAU,EAAE;GACb,EAAAsD,KAAA,CACA5X,WAAW,CAACC,MAAM,IAAG;IACpBsK,IAAI,EAAK6M,aAAa;GACvB,EAAAQ,KAAA,CACF;EACD5G,KAAK,GAAA6G,MAAA;IACH7G,KAAK,EAAK+F,OAAO,CAACC,IAAI,WAAQ;KAAIa,MAAA,CACjC7X,WAAW,CAACE,IAAI,IAAG;IAClBoU,UAAU,EAAE;GACb,EAAAuD,MAAA,CACA7X,WAAW,CAACC,MAAM,IAAG;IACpB+Q,KAAK,EAAKoG,aAAa;GACxB,EAAAS,MAAA,CACF;EACDC,MAAM,GAAAC,OAAA;IACJxN,IAAI,EAAE,KAAK;IACXX,SAAS,EAAE;KAAkBmO,OAAA,CAC5B/X,WAAW,CAACE,IAAI,IAAG;IAClBoU,UAAU,EAAE;GACb,EAAAyD,OAAA;CAEJ,CAAC;AASF,IAAMtI,iBAAiB,GAAqC,SAAtDA,iBAAiBA,CAAsCpO,KAAK;EAChE,IAAA2W,cAAA,GAAwD3W,KAAK,CAArDyO,OAAO;IAAPA,OAAO,GAAAkI,cAAA,cAAG,EAAE,GAAAA,cAAA;IAAEhK,YAAY,GAAsB3M,KAAK,CAAvC2M,YAAY;IAAEiJ,KAAK,GAAe5V,KAAK,CAAzB4V,KAAK;IAAElS,QAAQ,GAAK1D,KAAK,CAAlB0D,QAAQ;EAEnD,IAAMkT,iBAAiB,GAAGrH,IAAI,CAC5BpB,gBAAgB,CAACC,iBAAiB,EAClCR,QAAM,CAACjB,YAAY,CAACtN,QAAQ,CAAC,EAC7BuO,QAAM,CAACjB,YAAY,CAACrN,UAAU,CAAC,EAE/BsO,QAAM,CAACc,IAAI;;EACXD,OAAO,CAACwB,aAAa,EACrBxB,OAAO,2BAAyBtP,kBAAkB,CAACwN,YAAY,CAAC,CAAwB,EAHlEiJ,KAAK,IAAxBhI,QAAM,CAACwI,SAG8E,CACzF;EAED,oBAAO7X;IAAK+Q,SAAS,EAAEsH;KAAoBlT,QAAQ,CAAO;AAC5D,CAAC;AAED,uCAAeuQ,IAAI,CAAC7F,iBAAiB,CAAC;;ACzGtC;AACA,IAAMyI,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY;AAErD,IAAMC,QAAQ,GAAG;EACfC,cAAc,EACZ;CACH;AAED,eAAe,UAACC,UAAiC;EAC/C,IAAI,CAACN,OAAO,EAAE;EAEd,IAAMtD,OAAO,GAAG0D,QAAQ,CAACE,UAAU,CAAC;EACpC,IAAI,OAAOC,OAAO,KAAK,WAAW,EAAE;IAClCA,OAAO,CAACnL,KAAK,0BAAwBsH,OAAS,CAAC;;EAEjD,IAAI;IACF,MAAM,IAAIlP,KAAK,CAACkP,OAAO,CAAC;GACzB,CAAC,OAAO8D,CAAC,EAAE;AACd,CAAC;;;AClBD,AAqBA,IAAMC,SAAS,GAAG,SAAZA,SAASA,CACbC,gBAAmF;EAEnF,IAAMC,SAAS,GAAG,OAAOD,gBAAgB,KAAK,QAAQ,iBAAIE,cAAc,CAACF,gBAAgB,CAAC;EAC1F,OAAO,CAACC,SAAS;AACnB,CAAC;AAWD,IAAW/Y,eAAmD;AAC9D,IAAWC,aAA+C;AAAC,IAErDgZ,gBAAiB,0BAAAC,UAAA;EACrB,SAAAD,iBAAY1X,KAA4B;;IACtCC,KAAA,GAAA0X,UAAA,CAAAzX,IAAA,OAAMF,KAAK,CAAC;;;;;IAsBdC,KAAA,gBAAe,GAAG,UAChBsX,gBAAmF,EACnFK;UAAAA;QAAAA,kBAAiC,EAAE;;MAEnC,IAAIL,gBAAgB,KAAK9M,SAAS,IAAI8M,gBAAgB,KAAK,IAAI,EAAE;QAC/D,MAAM,IAAIlT,KAAK,CAAC,8CAA8C,CAAC;;MAGjE,IAAMwT,IAAI,GAAGP,SAAS,CAACC,gBAAgB,CAAC,GAAGA,gBAAgB,GAAGK,eAAe;MAE7E,IAAMrE,OAAO,GAAgC+D,SAAS,CAACC,gBAAgB,CAAC,GAAGA,gBAAgB,CAAChE,OAAO,GAAGgE,gBAAgB;MAEtH,IAAQvT,GAAG,GAAmC6T,IAAI,CAA1C7T,GAAG;QAAE8T,gBAAgB,GAAiBD,IAAI,CAArCC,gBAAgB;QAAK1R,OAAO,GAAAvC,6BAAA,CAAKgU,IAAI,EAAA/T,WAAA;MAElD,IAAMiU,eAAe,GAAGxY,SAAS,CAACyE,GAAG,CAAC;MACtC,IAAMwN,EAAE,GAAGuG,eAAe,GAAI/T,GAAmB,GAAG,IAAIgU,IAAI,EAAE,CAACC,OAAO,EAAE,GAAGhS,IAAI,CAACiS,MAAM,EAAE;MAExF,IAAMC,MAAM,GAAG3K,KAAK,CAACpH,OAAO,EAAEnG,KAAA,CAAKD,KAAK,CAAC;MACzC,IAAM0U,KAAK,GAAAvK,QAAA;QACTqH,EAAE,EAAFA;SACGpL,OAAO;QACVmN,OAAO,EAAPA,OAAO;QACP9B,IAAI,EAAE,IAAI;QACV9C,OAAO,EAAE,KAAK;QACdgG,YAAY,EAAE,KAAK;QACnBtI,OAAO,EAAE8L,MAAM,CAAC,SAAS,CAAC;QAC1B3E,MAAM,EAAE2E,MAAM,CAAC,QAAQ,CAAC;QACxB9C,OAAO,EAAE8C,MAAM,CAAC,SAAS,CAAC;QAC1B3L,OAAO,EAAE2L,MAAM,CAAC,SAAS,CAAC;QAC1BxL,YAAY,EAAEwL,MAAM,CAAC,cAAc,CAAC;QACpC5L,yBAAyB,EAAE4L,MAAM,CAAC,2BAA2B,CAAC;QAC9D1L,gBAAgB,EAAE0L,MAAM,CAAC,kBAAkB,CAAC;QAC5C7L,eAAe,EAAE6L,MAAM,CAAC,iBAAiB,CAAC;QAC1CtN,mBAAmB,EAAEsN,MAAM,CAAC,qBAAqB,CAAC;QAClDvL,kBAAkB,EAAEuL,MAAM,CAAC,oBAAoB,CAAC;QAChDhD,eAAe,EAAEgD,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC;QAChDzL,WAAW,EAAEyL,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC;QACxClT,KAAK,EAAEkT,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC;QAC5BxG,aAAa,EAAEwG,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC;QAC5C7I,SAAS,EAAEC,IAAI,CAACtP,KAAA,CAAKD,KAAK,CAACsP,SAAS,EAAElJ,OAAO,CAACkJ,SAAS;QACxD;MAED,IAAIoF,KAAK,CAACrI,OAAO,EAAE;QACjBqI,KAAK,CAACjI,gBAAgB,GAAGhC,SAAS;;MAGpCxK,KAAA,CAAK+B,QAAQ,CAAC,UAACxB,KAAK;QAClB,IAAKsX,gBAAgB,KAAKrN,SAAS,IAAIxK,KAAA,CAAKD,KAAK,CAAC8X,gBAAgB,IAAKA,gBAAgB,EAAE;UACvF,IAAMM,eAAe,GAAG,SAAlBA,eAAeA,CAAIhL,IAAmB;YAAA,OAAe2K,eAAe,GAAG3K,IAAI,CAACoE,EAAE,KAAKA,EAAE,GAAGpE,IAAI,CAACmG,OAAO,KAAKA,OAAO;WAAC;UAEvH,IAAM8E,OAAO,GAAG7X,KAAK,CAAC8X,KAAK,CAACC,SAAS,CAACH,eAAe,CAAC,GAAG,CAAC,CAAC;UAC3D,IAAMI,MAAM,GAAGhY,KAAK,CAACiY,MAAM,CAACF,SAAS,CAACH,eAAe,CAAC,GAAG,CAAC,CAAC;UAC3D,IAAIC,OAAO,IAAIG,MAAM,EAAE;YACrB,OAAOhY,KAAK;;;QAIhB,OAAOP,KAAA,CAAKyY,kBAAkB,CAAAvO,QAAA,KACzB3J,KAAK;UACR8X,KAAK,KAAAtH,MAAA,CAAMxQ,KAAK,CAAC8X,KAAK,GAAE5D,KAAK;UAC9B,CAAC;OACH,CAAC;MAEF,OAAOlD,EAAE;KACV;;;;;IAMDvR,KAAA,mBAAkB,GAAY,UAACO,KAAK;MAClC,IAAQiY,MAAM,GAAKjY,KAAK,CAAhBiY,MAAM;MACd,IAAIA,MAAM,CAACE,MAAM,IAAI1Y,KAAA,CAAKmM,QAAQ,EAAE;QAClC,OAAOnM,KAAA,CAAK2Y,mBAAmB,CAACpY,KAAK,CAAC;;MAExC,OAAOP,KAAA,CAAK4Y,YAAY,CAACrY,KAAK,CAAC;KAChC;;;;IAKDP,KAAA,aAAY,GAAY,UAACO,KAAK;MAC5B,IAAQ8X,KAAK,GAAa9X,KAAK,CAAvB8X,KAAK;QAAEG,MAAM,GAAKjY,KAAK,CAAhBiY,MAAM;MACrB,IAAIH,KAAK,CAACK,MAAM,GAAG,CAAC,EAAE;QACpB,OAAAxO,QAAA,KACK3J,KAAK;UACRiY,MAAM,KAAAzH,MAAA,CAAMyH,MAAM,GAAEH,KAAK,CAAC,CAAC,CAAC,EAAC;UAC7BA,KAAK,EAAEA,KAAK,CAACpZ,KAAK,CAAC,CAAC,EAAEoZ,KAAK,CAACK,MAAM;;;MAGtC,OAAOnY,KAAK;KACb;;;;;;;;;IAUDP,KAAA,oBAAmB,GAAY,UAACO,KAAK;MACnC,IAAIA,KAAK,CAACiY,MAAM,CAACnL,IAAI,CAAC,UAACF,IAAI;QAAA,OAAK,CAACA,IAAI,CAACqE,IAAI,IAAIrE,IAAI,CAACuH,YAAY;QAAC,EAAE;QAChE,OAAOnU,KAAK;;MAGd,IAAIsY,MAAM,GAAG,KAAK;MAClB,IAAIC,MAAM,GAAG,KAAK;MAElB,IAAMC,eAAe,GAAGxY,KAAK,CAACiY,MAAM,CAAC1K,MAAM,CAAC,UAACC,GAAG,EAAE5J,OAAO;QAAA,OAAK4J,GAAG,IAAI5J,OAAO,CAACqN,IAAI,IAAIrN,OAAO,CAACiI,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC;SAAE,CAAC,CAAC;MAEjH,IAAI2M,eAAe,KAAK/Y,KAAA,CAAKmM,QAAQ,EAAE;QACrC0K,OAAA,CAAAC,GAAA,CAAAC,QAAA,oBAAAhL,OAAO,CAAC,gBAAgB,CAAC;QACzB+M,MAAM,GAAG,IAAI;;MAGf,IAAMN,MAAM,GAAGjY,KAAK,CAACiY,MAAM,CAAC9R,GAAG,CAAC,UAACyG,IAAI;QACnC,IAAI,CAAC0L,MAAM,KAAK,CAAC1L,IAAI,CAACf,OAAO,IAAI0M,MAAM,CAAC,EAAE;UACxCD,MAAM,GAAG,IAAI;UAEb,IAAI,CAAC1L,IAAI,CAACuB,OAAO,EAAE;YACjB,OAAAxE,QAAA,KACKiD,IAAI;cACPuH,YAAY,EAAE;;;UAIlB,IAAIvH,IAAI,CAACmE,OAAO,EAAE;YAChBnE,IAAI,CAACmE,OAAO,CAAC,IAAI,EAAE,UAAU,EAAEnE,IAAI,CAACoE,EAAE,CAAC;;UAGzC,IAAIvR,KAAA,CAAKD,KAAK,CAACuR,OAAO,EAAE;YACtBtR,KAAA,CAAKD,KAAK,CAACuR,OAAO,CAAC,IAAI,EAAE,UAAU,EAAEnE,IAAI,CAACoE,EAAE,CAAC;;UAG/C,OAAArH,QAAA,KACKiD,IAAI;YACPqE,IAAI,EAAE;;;QAIV,OAAAtH,QAAA,KAAYiD,IAAI;OACjB,CAAC;MAEF,OAAAjD,QAAA,KAAY3J,KAAK;QAAEiY,MAAM,EAANA;;KACpB;;;;IAKDxY,KAAA,mBAAkB,GAAwC,UAACqC,IAAI,EAAEL,WAAW,EAAE+B,GAAG;MAC/E,IAAI,CAACzE,SAAS,CAACyE,GAAG,CAAC,EAAE;QACnB,MAAM,IAAIK,KAAK,CAAC,wDAAwD,CAAC;;MAG3EpE,KAAA,CAAK+B,QAAQ,CAAC,UAAAnB,IAAA;QAAA,IAAG4X,MAAM,GAAA5X,IAAA,CAAN4X,MAAM;QAAA,OAAQ;UAC7BA,MAAM,EAAEA,MAAM,CAAC9R,GAAG,CAAC,UAACyG,IAAI;YAAA,OAAMA,IAAI,CAACoE,EAAE,KAAKxN,GAAG,GAAAmG,QAAA,KAAQiD,IAAI;cAAEuB,OAAO,EAAE;iBAAIxE,QAAA,KAAUiD,IAAI,CAAE;WAAC;SAC1F;OAAC,CAAC;KACJ;;;;IAKDnN,KAAA,iBAAgB,GAAwC,UAACkS,KAAK,EAAE8G,MAAM,EAAEjV,GAAG;;;MAGzE,IAAI/D,KAAA,CAAKD,KAAK,CAACuR,OAAO,EAAE;QACtBtR,KAAA,CAAKD,KAAK,CAACuR,OAAO,CAACY,KAAK,EAAE8G,MAAM,EAAEjV,GAAG,CAAC;;MAGxC,IAAMkV,cAAc,GAAGlV,GAAG,KAAKyG,SAAS;MAExCxK,KAAA,CAAK+B,QAAQ,CAAC,UAAAmX,KAAA;QAAA,IAAGV,MAAM,GAAAU,KAAA,CAANV,MAAM;UAAEH,KAAK,GAAAa,KAAA,CAALb,KAAK;QAAA,OAAQ;UACpCG,MAAM,EAAEA,MAAM,CAAC9R,GAAG,CAAC,UAACyG,IAAI;YACtB,IAAI,CAAC8L,cAAc,IAAI9L,IAAI,CAACoE,EAAE,KAAKxN,GAAG,EAAE;cACtC,OAAAmG,QAAA,KAAYiD,IAAI;;YAGlB,OAAOA,IAAI,CAACuB,OAAO,GAAAxE,QAAA,KAAQiD,IAAI;cAAEqE,IAAI,EAAE;iBAAKtH,QAAA,KAAUiD,IAAI;cAAEuH,YAAY,EAAE;cAAM;WACjF,CAAC;UACF2D,KAAK,EAAEA,KAAK,CAAC7H,MAAM,CAAC,UAACrD,IAAI;YAAA,OAAKA,IAAI,CAACoE,EAAE,KAAKxN,GAAG;;SAC9C;OAAC,CAAC;KACJ;;;;IAKD/D,KAAA,cAAa,GAAqC,UAAC+D,GAAG;;MAEpD,IAAMoV,UAAU,GAAGnZ,KAAA,CAAKO,KAAK,CAACiY,MAAM,CAACY,IAAI,CAAC,UAACjM,IAAI;QAAA,OAAKA,IAAI,CAACoE,EAAE,KAAKxN,GAAG;QAAC;MACpE,IAAIzE,SAAS,CAACyE,GAAG,CAAC,IAAIoV,UAAU,IAAIA,UAAU,CAAC7H,OAAO,EAAE;QACtD6H,UAAU,CAAC7H,OAAO,CAAC,IAAI,EAAE,YAAY,EAAEvN,GAAG,CAAC;;MAG7C/D,KAAA,CAAKqZ,gBAAgB,CAAC,IAAI,EAAE,YAAY,EAAEtV,GAAG,CAAC;KAC/C;;;;;;;;IASD/D,KAAA,kBAAiB,GAAuC,UAACqC,IAAI,EAAE0B,GAAG;MAChE,IAAI,CAACzE,SAAS,CAACyE,GAAG,CAAC,EAAE;QACnB,MAAM,IAAIK,KAAK,CAAC,uDAAuD,CAAC;;MAG1EpE,KAAA,CAAK+B,QAAQ,CAAC,UAACxB,KAAK;QAClB,IAAM+Y,QAAQ,GAAGtZ,KAAA,CAAK4Y,YAAY,CAAA1O,QAAA,KAC7B3J,KAAK;UACRiY,MAAM,EAAEjY,KAAK,CAACiY,MAAM,CAAChI,MAAM,CAAC,UAACrD,IAAI;YAAA,OAAKA,IAAI,CAACoE,EAAE,KAAKxN,GAAG;;UACtD,CAAC;QAEF,IAAIuV,QAAQ,CAACjB,KAAK,CAACK,MAAM,KAAK,CAAC,EAAE;UAC/B,OAAOY,QAAQ;;QAGjB,OAAOtZ,KAAA,CAAK2Y,mBAAmB,CAACW,QAAQ,CAAC;OAC1C,CAAC;KACH;IAlPC9a,eAAe,GAAGwB,KAAA,CAAKxB,eAAe;IACtCC,aAAa,GAAGuB,KAAA,CAAKvB,aAAa;IAElCuB,KAAA,CAAKO,KAAK,GAAG;MACXiY,MAAM,EAAE,EAAE;MACVH,KAAK,EAAE,EAAE;MACTkB,YAAY,EAAE;QACZ/a,eAAe,EAAEwB,KAAA,CAAKxB,eAAe,CAACgb,IAAI,CAAAxZ,KAAK,CAAC;QAChDvB,aAAa,EAAEuB,KAAA,CAAKvB,aAAa,CAAC+a,IAAI,CAAAxZ,KAAK;;KAE9C;IAAC,OAAAA,KAAA;;EACHU,cAAA,CAAA+W,gBAAA,EAAAC,UAAA;EAAA,IAAA3W,MAAA,GAAA0W,gBAAA,CAAAzW,SAAA;EAAAD,MAAA,CAyODwC,MAAM,GAAN,SAAAA;;IACE,IAAQgW,YAAY,GAAK,IAAI,CAAChZ,KAAK,CAA3BgZ,YAAY;IACpB,IAAA/V,WAAA,GAAuE,IAAI,CAACzD,KAAK;MAAzE0Z,OAAO,GAAAjW,WAAA,CAAPiW,OAAO;MAAEhW,QAAQ,GAAAD,WAAA,CAARC,QAAQ;MAAAiW,iBAAA,GAAAlW,WAAA,CAAEmS,KAAK;MAALA,KAAK,GAAA+D,iBAAA,cAAG,KAAK,GAAAA,iBAAA;MAAAC,qBAAA,GAAAnW,WAAA,CAAEoW,UAAU;MAAVA,UAAU,GAAAD,qBAAA,cAAG,EAAE,GAAAA,qBAAA;MAAEnL,OAAO,GAAAhL,WAAA,CAAPgL,OAAO;IAElE,IAAMqL,KAAK,GAAG,IAAI,CAACtZ,KAAK,CAACiY,MAAM,CAAC1K,MAAM,CAAmB,UAACC,GAAG,EAAE5J,OAAO;;MACpE,IAAM2V,QAAQ,GAAG5a,kBAAkB,CAACiF,OAAO,CAACuI,YAAY,CAAC;MACzD,IAAMqN,kBAAkB,GAAGhM,GAAG,CAAC+L,QAAQ,CAAC,IAAI,EAAE;MAC9C,OAAA5P,QAAA,KACK6D,GAAG,GAAAC,SAAA,OAAAA,SAAA,CACL8L,QAAQ,OAAA/I,MAAA,CAAOgJ,kBAAkB,GAAE5V,OAAO,IAAA6J,SAAA;KAE9C,EAAE,EAAE,CAAC;IAEN,IAAMgM,SAAS,GAAGpM,MAAM,CAAC2C,IAAI,CAACsJ,KAAK,CAAC,CAACnT,GAAG,CAAC,UAACuT,MAAM;MAC9C,IAAMzB,MAAM,GAAGqB,KAAK,CAACI,MAAM,CAAC;MAC5B,IAAOC,YAAY,GAAI1B,MAAM;MAC7B,oBACEla,6BAAC6P,mBAAiB;QAACpK,GAAG,EAAEkW,MAAM;QAAEtE,KAAK,EAAEA,KAAK;QAAEjJ,YAAY,EAAEwN,YAAY,CAACxN,YAAY;QAAE8B,OAAO,EAAEA;SAC7FgK,MAAM,CAAC9R,GAAG,CAAC,UAAC+N,KAAK;QAAA,oBAChBnW,6BAAC6V,YAAY;UACXpQ,GAAG,EAAE0Q,KAAK,CAAClD,EAAE;UACbkD,KAAK,EAAEA,KAAK;UACZjG,OAAO,EAAEA,OAAO;UAChBnK,SAAS,EAAEuV,UAAU,CAACnF,KAAK,CAAClI,OAAO,CAAC;UACpC+E,OAAO,EAAEnP,MAAI,CAACkX,gBAAgB;UAC9B/W,OAAO,EAAEH,MAAI,CAACpC,KAAK,CAACuC,OAAO;UAC3BK,MAAM,EAAER,MAAI,CAACpC,KAAK,CAAC4C,MAAM;UACzBD,QAAQ,EAAEgO,qBAAqB,CAAC,CAACvO,MAAI,CAACgY,iBAAiB,EAAEhY,MAAI,CAACpC,KAAK,CAAC2C,QAAQ,CAAC,EAAE+R,KAAK,CAAClD,EAAE,CAAC;UACxFnP,SAAS,EAAEsO,qBAAqB,CAAC,CAACvO,MAAI,CAACiY,kBAAkB,EAAEjY,MAAI,CAACpC,KAAK,CAACqC,SAAS,CAAC,EAAEqS,KAAK,CAAClD,EAAE;UAC1F;OACH,CAAC,CACgB;KAEvB,CAAC;IAEF,oBACEjT,6BAAC+b,eAAe,CAACC,QAAQ;MAAC/a,KAAK,EAAEga;OAC9B9V,QAAQ,EACRgW,OAAO,gBAAGc,YAAY,CAACP,SAAS,EAAEP,OAAO,CAAC,GAAGO,SAAS,CAC9B;GAE9B;EAAA,OAAAlW,YAAA,CAAA2T,gBAAA;IAAA1T,GAAA;IAAAC,GAAA,EAhRD,SAAAA;MACE,OAAO,IAAI,CAACjE,KAAK,CAACoM,QAAQ,IAAID,QAAQ,CAACC,QAAQ;;;AAChD,EAlB4B9H,SAAuC;;ACpCtE,mBAAe;EAAA,OAAuBmW,UAAU,CAACH,eAAe,CAAC;AAAA;;;;"}